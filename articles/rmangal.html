<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="rmangal">
<title>Get started with rmangal • rmangal</title>
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="/apple-touch-icon.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://docs.ropensci.org/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Get started with rmangal">
<meta property="og:description" content="rmangal">
<meta property="og:image" content="https://docs.ropensci.org/rmangal/logo.png">
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Matomo --><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.css">
<script src="https://cdn.jsdelivr.net/npm/cookieconsent@3/build/cookieconsent.min.js" data-cfasync="false"></script><script src="https://ropensci.org/scripts/matomo.js"></script><noscript><p><img src="https://ropensci.matomo.cloud/matomo.php?idsite=1&amp;rec=1" style="border:0;" alt=""></p></noscript>
<!-- End Matomo Code -->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a href="https://ropensci.org" class="external-link"><img src="https://ropensci.org/img/icon_short_white.svg" id="hexlogo" alt="rOpenSci"></a>
    <a class="navbar-brand me-2" href="../index.html">rmangal</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Released version">2.1.3</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"></ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="active nav-item">
  <a class="nav-link" href="../articles/rmangal.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/ropensci/rmangal/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Get started with rmangal</h1>
                        <h4 data-toc-skip class="author">Steve Vissault &amp; Kevin Cazelles</h4>
                        
            <h4 data-toc-skip class="date">2023-03-29</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rmangal/blob/HEAD/vignettes/rmangal.Rmd" class="external-link"><code>vignettes/rmangal.Rmd</code></a></small>
      <div class="d-none name"><code>rmangal.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="context">Context<a class="anchor" aria-label="anchor" href="#context"></a>
</h2>
<div class="section level3">
<h3 id="the-mangal-project">The Mangal project<a class="anchor" aria-label="anchor" href="#the-mangal-project"></a>
</h3>
<p><a href="https://mangal.io" class="external-link">The Mangal project</a> aims at archiving published ecological networks and at easing their retrieval. To do so, Mangal:</p>
<ol style="list-style-type: decimal">
<li><p>uses a data specification for ecological networks <span class="citation">(described in Poisot et al. 2016)</span>;</p></li>
<li><p>archives ecological networks in a <a href="https://www.postgresql.org/" class="external-link">PostgreSQL</a> database;</p></li>
<li><p>provides:</p></li>
</ol>
<ul>
<li>
<a href="https://mangal.io/#/" class="external-link">a data explorer</a> to visualize and download data available;</li>
<li>a <a href="https://mangal-interactions.github.io/mangal-api/" class="external-link">RESTful Application Programming Interface (API)</a>;</li>
<li>a client library for Julia: <a href="https://github.com/PoisotLab/Mangal.jl" class="external-link">Mangal.jl</a>;</li>
<li>a client of this API for R: the <strong>rmangal</strong> package described below.</li>
</ul>
<p>Currently, 172 datasets are including in the database representing over <a href="https://mangal.io/#/network" class="external-link">1300 ecological networks</a>. In 2016, the first paper describing the project was published and introduced the first release of <strong>rmangal</strong> <span class="citation">(Poisot et al. 2016)</span>. Since then, the structure of the database has been improved (new fields have been added), several ecological networks added and the API entirely rewritten. Consequently, <a href="https://github.com/mangal-interactions/rmangal-v1" class="external-link">the first release of the <strong>rmangal</strong></a> is obsolete (and archived) and we introduce <strong>rmangal v2.0</strong> in this vignette.</p>
</div>
<div class="section level3">
<h3 id="data-structure">Data structure<a class="anchor" aria-label="anchor" href="#data-structure"></a>
</h3>
<p><br></p>
<div class="row">
<div class="col-md-6">
<p><img src="img/data_structure.png" alt="plot of chunk unnamed-chunk-1" width="100%"></p>
</div>
<div class="col-md-6">
<p>The diagram on the left side represents the structure of the Mangal database. All <em>references</em> included in Mangal correspond to a specific publication that includes one or several <em>dataset(s)</em>. This dataset is basically a collection of ecological <em>networks</em> whose <em>nodes</em> and <em>interactions</em> (edges) are stored in separate tables. Below, we briefly describe the content of each table.</p>
<p><strong>References</strong> – Information pertaining to a reference (scientific article, book, online website, etc.) characterizing an original collection of ecological networks. URLs of data and publication sources are included as well as persistent identifiers (when available) such as digital object identifiers (DOIs). This allows the user to retrieve more details about original publications using appropriate R packages such as <a href="https://docs.ropensci.org/rcrossref/" class="external-link">crossref</a>.</p>
<p><strong>Datasets</strong> – Metadata of the datasets attached to a reference. It includes a general description of the networks.</p>
<p><strong>Networks</strong> – Metadata of the networks attached to a dataset. It provides the sampling location, date and specific description of the network.</p>
<p><strong>Nodes</strong> – Information on the population, taxa or individu in the network. Each node has the original taxon name documented and taxonomic backbone provided by all services embedded in taxize <span class="citation">(Chamberlain et al. 2019)</span>.</p>
<p><strong>Interactions</strong> – Information on the interaction type (e.g. mutualism, predation, etc.), the strength, and the direction of the interaction between two nodes.</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="authentication">Authentication<a class="anchor" aria-label="anchor" href="#authentication"></a>
</h3>
<p>So far, the <code>rmangal</code> package provides methods to get access to the data store. Data requests (performed via <code><a href="https://httr.r-lib.org/reference/GET.html" class="external-link">httr::GET()</a></code>) do not require any authentication.</p>
<p>A bearer authentication strategy using <a href="https://orcid.org/" class="external-link">ORCID</a> credentials (as a third-party services) has been implemented on all <code>POST</code>, <code>DELETE</code>, <code>PUT</code> API operations to allow the user to add and delete new ecological to the data base. These features are not currently included in the <strong>rmangal</strong> package, but are under consideration for future major releases.</p>
</div>
</div>
<div class="section level2">
<h2 id="how-to-use-rmangal">How to use <strong>rmangal</strong><a class="anchor" aria-label="anchor" href="#how-to-use-rmangal"></a>
</h2>
<div class="section level3">
<h3 id="overall-approach">Overall approach<a class="anchor" aria-label="anchor" href="#overall-approach"></a>
</h3>
<p>In order to efficiently retrieve networks from the database, <strong>rmangal</strong> includes 7 search functions querying the 5 tables described above as well as a table dedicated to the taxonomy backbone.</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/search_references.html">search_references()</a></code>: search in the reference table, for instance the user can look for a specific <code>doi</code>;</li>
<li>
<code><a href="../reference/search_datasets.html">search_datasets()</a></code>: search among datasets using a keyword;</li>
<li>
<code><a href="../reference/search_networks.html">search_networks()</a></code> and <code><a href="../reference/search_networks.html">search_networks_sf()</a></code>: search networks based on a keyword or a geographical area;</li>
<li>
<code><a href="../reference/search_interactions.html">search_interactions()</a></code>: list all networks containing a specific interaction type;</li>
<li>
<code><a href="../reference/search_nodes.html">search_nodes()</a></code>: identify nodes based on nodes information;</li>
<li>
<code><a href="../reference/search_taxonomy.html">search_taxonomy()</a></code>: identify nodes based on taxonomic names and unique identifiers.</li>
</ol>
<p>All of these functions return specific class objects with the information needed to retrieve the corresponding set of ecological networks with <code><a href="../reference/get_collection.html">get_collection()</a></code>. Hence, the user can easily retrieve data in two steps:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>networks <span class="ot">&lt;-</span> search_<span class="sc">*</span>() <span class="sc">%&gt;%</span> <span class="fu">get_collection</span>()</span></code></pre></div>
<p>Note that if there is only one network to be retrieved, <code><a href="../reference/get_collection.html">get_collection()</a></code> returns a <code>mgNetwork</code> object, otherwise it returns an object of class <code>mgNetworksCollection</code> which is a collection (a list) of <code>mgNetwork</code> objects. Below, we exemplify how to use the search functions, how to get a collection of networks and how to use other packages to carry out specific analyses.</p>
</div>
<div class="section level3">
<h3 id="search-functions">Search functions<a class="anchor" aria-label="anchor" href="#search-functions"></a>
</h3>
<p>In <strong>rmangal</strong>, every functions queries a specific table and allow only one query at a time (see section <a href="#batch-analysis">Batch analysis</a> to learn how to perform more than one query). All the functions offer two ways to query the corresponding table:</p>
<ol style="list-style-type: decimal">
<li>a keyword: in this case, the entries returned are the partial or full keyword match of any strings contained in the table;</li>
<li>a custom query: in this case, entries returned are exact matches.</li>
</ol>
<p>Let’s load <strong>rmangal</strong> as well as two helper packages:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/rmangal/">rmangal</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org" class="external-link">magrittr</a></span><span class="op">)</span> <span class="co"># for the pipe %&gt;%</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tibble.tidyverse.org/" class="external-link">tibble</a></span><span class="op">)</span> <span class="co"># to use tibble (enhanced data frames)</span></span></code></pre></div>
<div class="section level4">
<h4 id="search-and-list-available-datasets">Search and list available datasets<a class="anchor" aria-label="anchor" href="#search-and-list-available-datasets"></a>
</h4>
<p>Let’s assume we are looking for ecological networks including species living in lagoons. If we have no idea about any existing data set, the best starting point is then to query the <code>dataset</code> table with <code>lagoon</code> as a keyword:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lagoon</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_datasets.html">search_datasets</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">"lagoon"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">lagoon</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "tbl_df"           "tbl"              "data.frame"       "mgSearchDatasets"</span></span>
<span><span class="va">lagoon</span></span>
<span><span class="co">#&gt; # A tibble: 2 × 10</span></span>
<span><span class="co">#&gt;      id name        description                                     public created_at               updated_at               ref_id user_id references    networks     </span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;                                           &lt;lgl&gt;  &lt;chr&gt;                    &lt;chr&gt;                     &lt;int&gt;   &lt;int&gt; &lt;list&gt;        &lt;list&gt;       </span></span>
<span><span class="co">#&gt; 1    22 zetina_2003 Dietary matrix of the Huizache–Caimanero lagoon TRUE   2019-02-23T17:04:32.017Z 2019-02-23T17:04:32.017Z     22       3 &lt;df [1 × 11]&gt; &lt;df [1 × 13]&gt;</span></span>
<span><span class="co">#&gt; 2    52 yanez_1978  Food web of the Guerrero lagoon                 TRUE   2019-02-24T23:42:52.062Z 2019-02-24T23:42:52.062Z     53       3 &lt;df [1 × 11]&gt; &lt;df [2 × 13]&gt;</span></span></code></pre></div>
<p>If the Mangal reference id containing the lagoon networks was known, we could build a custom query as follow:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">lagoon_zetina</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_datasets.html">search_datasets</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ref_id <span class="op">=</span> <span class="fl">22</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">lagoon_zetina</span></span>
<span><span class="co">#&gt; # A tibble: 1 × 10</span></span>
<span><span class="co">#&gt;      id name        description                                     public created_at               updated_at               ref_id user_id references    networks     </span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;       &lt;chr&gt;                                           &lt;lgl&gt;  &lt;chr&gt;                    &lt;chr&gt;                     &lt;int&gt;   &lt;int&gt; &lt;list&gt;        &lt;list&gt;       </span></span>
<span><span class="co">#&gt; 1    22 zetina_2003 Dietary matrix of the Huizache–Caimanero lagoon TRUE   2019-02-23T17:04:32.017Z 2019-02-23T17:04:32.017Z     22       3 &lt;df [1 × 11]&gt; &lt;df [1 × 13]&gt;</span></span></code></pre></div>
<p>Note that if an empty character is passed, i.e. <code>""</code>, all entries are returned. We can use this behavior to list all datasets available:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_datasets</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_datasets.html">search_datasets</a></span><span class="op">(</span><span class="st">""</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">all_datasets</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 6 × 10</span></span>
<span><span class="co">#&gt;      id name                  description                                                                        public created_at               updated_at               ref_id user_id references    networks</span></span>
<span><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt;                 &lt;chr&gt;                                                                              &lt;lgl&gt;  &lt;chr&gt;                    &lt;chr&gt;                     &lt;int&gt;   &lt;int&gt; &lt;list&gt;        &lt;list&gt;  </span></span>
<span><span class="co">#&gt; 1     2 howking_1968          Insect activity recorded on flower at Lake Hazen, Ellesmere Island, N.W.T., Canada TRUE   2019-02-22T15:39:00.427Z 2019-02-22T15:39:00.427Z      2       2 &lt;df [1 × 11]&gt; &lt;df&gt;    </span></span>
<span><span class="co">#&gt; 2     7 lundgren_olesen_2005  Pollnator activity recorded on flowers, Uummannaq Island, Greenland, Danmark       TRUE   2019-02-22T20:04:25.322Z 2019-02-22T20:04:25.322Z      7       2 &lt;df [1 × 11]&gt; &lt;df&gt;    </span></span>
<span><span class="co">#&gt; 3     9 elberling_olesen_1999 Flower-visiting insect at Mt. Latnjatjarro, northern Sweden                        TRUE   2019-02-22T20:09:17.994Z 2019-02-22T20:09:17.994Z      9       2 &lt;df [1 × 11]&gt; &lt;df&gt;    </span></span>
<span><span class="co">#&gt; 4    14 johnston_1956         Predation by short-eared owls on a salicornia salt marsh                           TRUE   2019-02-22T21:10:45.269Z 2019-02-22T21:10:45.269Z     14       3 &lt;df [1 × 11]&gt; &lt;df&gt;    </span></span>
<span><span class="co">#&gt; 5    15 havens_1992           Pelagic communities of small lakes and ponds of the Adirondack                     TRUE   2019-02-23T01:47:06.347Z 2019-02-23T01:47:06.347Z     15       3 &lt;df [1 × 11]&gt; &lt;df&gt;    </span></span>
<span><span class="co">#&gt; 6    16 kemp_1977             Food web for the Crystal River estuary                                             TRUE   2019-02-23T03:02:31.697Z 2019-02-23T03:02:31.697Z     16       3 &lt;df [1 × 11]&gt; &lt;df&gt;</span></span></code></pre></div>
<p>As shown in the diagram above, a dataset comes from a specific reference and <code><a href="../reference/search_references.html">search_references()</a></code> queries the reference table directly. A handy argument of this function is <code>doi</code> as it allows to pass a Digital Object Identifier and so to retrieve all datasets attached to a specific publication.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">zetina_2003</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_references.html">search_references</a></span><span class="op">(</span>doi <span class="op">=</span> <span class="st">"10.1016/s0272-7714(02)00410-9"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="finding-a-specific-network">Finding a specific network<a class="anchor" aria-label="anchor" href="#finding-a-specific-network"></a>
</h4>
<p>We can also search by keyword across all networks.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">insect_coll</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_networks.html">search_networks</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">"insect%"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">insect_coll</span><span class="op">)</span></span>
<span><span class="co">#&gt;     id                               name                     date</span></span>
<span><span class="co">#&gt; 1   18    mosquin_martin_1967_19650731_18 1965-07-31T00:00:00.000Z</span></span>
<span><span class="co">#&gt; 2  909 elberling_olesen_1999_19940823_909 1994-08-23T00:00:00.000Z</span></span>
<span><span class="co">#&gt; 3  948             kato_1993_19910901_948 1991-09-01T00:00:00.000Z</span></span>
<span><span class="co">#&gt; 4 1460         cornaby_1974_19680208_1460 1968-02-08T00:00:00.000Z</span></span>
<span><span class="co">#&gt; 5 1461         cornaby_1974_19680229_1461 1968-02-29T00:00:00.000Z</span></span>
<span><span class="co">#&gt; 6 1471    jiron_cartin_1981_19770101_1471 1977-01-01T00:00:00.000Z</span></span>
<span><span class="co">#&gt;                                                                                                                                             description public all_interactions               created_at</span></span>
<span><span class="co">#&gt; 1                                Occurence of flower-visiting insect on plant species, two miles north of Bailey Point, Melville Island, N.W.T., Canada   TRUE            FALSE 2019-02-22T18:38:37.491Z</span></span>
<span><span class="co">#&gt; 2                                                                                           Flower-visiting insect at Mt. Latnjatjarro, northern Sweden   TRUE            FALSE 2019-02-24T22:21:32.444Z</span></span>
<span><span class="co">#&gt; 3 Flower and anthophilous insect interactions in the primary cool-temperate subalpine forests and meadows at Mt. Kushigata, Yamanashi Prefecture, Japan   TRUE            FALSE 2019-02-25T20:52:09.499Z</span></span>
<span><span class="co">#&gt; 4                           The insect community of  a toad carrion in a tropical dry lowland forest at Finac La pacifica, Guanacaste Prov., Costa Rica   TRUE            FALSE 2019-03-01T18:30:50.890Z</span></span>
<span><span class="co">#&gt; 5                             The insect community of  a toad carrion in a tropical wet lowland forest near Rincon de Osa, Puntarenas Prov., Costa Rica   TRUE            FALSE 2019-03-01T18:30:57.419Z</span></span>
<span><span class="co">#&gt; 6                                              The insect community of a dog carcass in a premontane humid forest, University of Costa Rica, Costa Rica   TRUE            FALSE 2019-03-04T18:22:33.907Z</span></span>
<span><span class="co">#&gt;                 updated_at dataset_id user_id geom_type  geom_lon geom_lat</span></span>
<span><span class="co">#&gt; 1 2019-02-22T18:38:37.491Z          4       3     Point -114.9667       75</span></span>
<span><span class="co">#&gt; 2 2019-02-24T22:21:32.444Z          9       2     Point      18.5    68.35</span></span>
<span><span class="co">#&gt; 3 2019-02-25T20:52:09.499Z         66       2     Point  138.3833  35.5833</span></span>
<span><span class="co">#&gt; 4 2019-03-01T18:30:50.890Z         91       4     Point -85.09443  10.4568</span></span>
<span><span class="co">#&gt; 5 2019-03-01T18:30:57.419Z         91       4     Point -83.50833 8.534018</span></span>
<span><span class="co">#&gt; 6 2019-03-04T18:22:33.907Z         99       4     Point -84.07651 9.933982</span></span></code></pre></div>
<p>It is also possible to retrieve all networks based on interaction types involved:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">comp_interac</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_interactions.html">search_interactions</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"competition"</span><span class="op">)</span></span>
<span><span class="co"># Number of competition interactions in mangal</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">comp_interac</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 12</span></span></code></pre></div>
<p><code><a href="../reference/search_networks.html">search_networks_sf()</a></code> handles spatial queries: argument <code>query_sf</code> takes a <a href="https://cran.r-project.org/package=sf" class="external-link"><code>sf</code></a> object as input and returns all networks included in the spatial extent of this object. For instance, one can retrieve all networks found in North Carolina included in Mangal like so:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-spatial/mapview" class="external-link">mapview</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">area</span> <span class="op">&lt;-</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">st_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"shape/nc.shp"</span>, package<span class="op">=</span><span class="st">"sf"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reading layer `nc' from data source `/usr/lib/R/site-library/sf/shape/nc.shp' using driver `ESRI Shapefile'</span></span>
<span><span class="co">#&gt; Simple feature collection with 100 features and 14 fields</span></span>
<span><span class="co">#&gt; Geometry type: MULTIPOLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: -84.32385 ymin: 33.88199 xmax: -75.45698 ymax: 36.58965</span></span>
<span><span class="co">#&gt; Geodetic CRS:  NAD27</span></span>
<span><span class="va">in_NC</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_networks.html">search_networks_sf</a></span><span class="op">(</span><span class="va">area</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapView.html" class="external-link">mapView</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_geometry.html" class="external-link">st_geometry</a></span><span class="op">(</span><span class="va">area</span><span class="op">)</span>, </span>
<span>  color <span class="op">=</span> <span class="st">"red"</span>, </span>
<span>  legend <span class="op">=</span> <span class="cn">FALSE</span>, </span>
<span>  col.regions <span class="op">=</span> <span class="st">"#FF000033"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapView.html" class="external-link">mapView</a></span><span class="op">(</span><span class="va">in_NC</span>, legend <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> </span>
<span><span class="co">#&gt; Error in path.expand(path): invalid 'path' argument</span></span></code></pre></div>
<p><img src="img/map1.png" alt="plot of chunk unnamed-chunk-9" width="60%"></p>
</div>
<div class="section level4">
<h4 id="search-for-a-specific-taxon">Search for a specific taxon<a class="anchor" aria-label="anchor" href="#search-for-a-specific-taxon"></a>
</h4>
<p>The user can easily identify networks including a specific taxonomic entity with <code><a href="../reference/search_taxonomy.html">search_taxonomy()</a></code>:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sr_ficus</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span><span class="op">(</span><span class="st">"Ficus"</span><span class="op">)</span></span></code></pre></div>
<p>This function allows to search for a specific taxonomic entity using it’s validated name or unique identifiers, i.e. EOL, TSN, GBIF, COL, BOLD and NCBI IDs. Taxon names of the <code>taxonomy</code> table were validated with TNRS (see <a href="https://tnrs.biendata.org/" class="external-link uri">https://tnrs.biendata.org/</a>) and/or GNR (see <a href="https://resolver.globalnames.org/" class="external-link uri">https://resolver.globalnames.org/</a>). The taxon names in this table might not be the taxon name documented in the original publication. In order to identify relevant networks with the original name, use [search_nodes()].</p>
<p>The validation of taxon names was performed by an automated procedure using taxize <span class="citation">(Chamberlain et al. 2019)</span> and if there is any doubt, the original names recorded by authors should be regarded as the most reliable information. Please report any issue related to taxonomy at <a href="https://github.com/mangal-interactions/contribute/issues/new/choose" class="external-link uri">https://github.com/mangal-interactions/contribute/issues/new/choose</a>.</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span><span class="op">(</span>tsn <span class="op">=</span> <span class="fl">28749</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;     id original_name node_level network_id taxonomy_id               created_at               updated_at taxonomy.id taxonomy.name taxonomy.ncbi taxonomy.tsn taxonomy.eol taxonomy.bold taxonomy.gbif</span></span>
<span><span class="co">#&gt; 1 2629  Acer negundo      taxon         19           2 2019-02-22T18:48:49.433Z 2019-02-22T18:48:49.433Z           2  Acer negundo          4023        28749       583069        100987       3189866</span></span>
<span><span class="co">#&gt;                       taxonomy.col taxonomy.rank      taxonomy.created_at      taxonomy.updated_at</span></span>
<span><span class="co">#&gt; 1 90203e29e2f59e5754167f89b9eba3cc       species 2019-02-21T21:17:12.585Z 2019-06-14T15:20:36.273Z</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fu"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span><span class="op">(</span>eol <span class="op">=</span> <span class="fl">583069</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;     id original_name node_level network_id taxonomy_id               created_at               updated_at taxonomy.id taxonomy.name taxonomy.ncbi taxonomy.tsn taxonomy.eol taxonomy.bold taxonomy.gbif</span></span>
<span><span class="co">#&gt; 1 2629  Acer negundo      taxon         19           2 2019-02-22T18:48:49.433Z 2019-02-22T18:48:49.433Z           2  Acer negundo          4023        28749       583069        100987       3189866</span></span>
<span><span class="co">#&gt;                       taxonomy.col taxonomy.rank      taxonomy.created_at      taxonomy.updated_at</span></span>
<span><span class="co">#&gt; 1 90203e29e2f59e5754167f89b9eba3cc       species 2019-02-21T21:17:12.585Z 2019-06-14T15:20:36.273Z</span></span></code></pre></div>
<p>Note that in some case, one may need to find a dataset based on the original name included in the publication, in such case, <code><a href="../reference/search_nodes.html">search_nodes()</a></code> must be used:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sr_ficus2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_nodes.html">search_nodes</a></span><span class="op">(</span><span class="st">"Ficus"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="get-networks-associated-with-a-search_-object">Get networks associated with a <code>search_*</code> object<a class="anchor" aria-label="anchor" href="#get-networks-associated-with-a-search_-object"></a>
</h3>
<p>Once the search performed, ecological networks are accessible from the object returned with <code><a href="../reference/get_collection.html">get_collection()</a></code>:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nets_lagoons</span> <span class="op">&lt;-</span> <span class="va">lagoon</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">get_collection</span></span>
<span><span class="va">nets_in_NC</span> <span class="op">&lt;-</span> <span class="va">in_NC</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">get_collection</span></span>
<span><span class="va">nets_competition</span> <span class="op">&lt;-</span> <span class="va">comp_interac</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">get_collection</span></span></code></pre></div>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nets_lagoons</span></span>
<span><span class="co">#&gt; A collection of 3 networks</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * Network #86 included in dataset #22</span></span>
<span><span class="co">#&gt; * Description: Dietary matrix of the Huizache–Caimanero lagoon</span></span>
<span><span class="co">#&gt; * Includes 189 edges and 26 nodes </span></span>
<span><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></span>
<span><span class="co">#&gt;   --&gt; ITIS: 81%, BOLD: 81%, EOL: 85%, COL: 81%, GBIF: 0%, NCBI: 85%</span></span>
<span><span class="co">#&gt; * Published in ref # DOI:10.1016/s0272-7714(02)00410-9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * Network #927 included in dataset #52</span></span>
<span><span class="co">#&gt; * Description: Food web of the Brackish lagoon</span></span>
<span><span class="co">#&gt; * Includes 27 edges and 11 nodes </span></span>
<span><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></span>
<span><span class="co">#&gt;   --&gt; ITIS: 45%, BOLD: 45%, EOL: 45%, COL: 45%, GBIF: 18%, NCBI: 45%</span></span>
<span><span class="co">#&gt; * Published in ref # DOI:NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * Network #926 included in dataset #52</span></span>
<span><span class="co">#&gt; * Description: Food web of the Costal lagoon</span></span>
<span><span class="co">#&gt; * Includes 34 edges and 13 nodes </span></span>
<span><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></span>
<span><span class="co">#&gt;   --&gt; ITIS: 54%, BOLD: 54%, EOL: 54%, COL: 54%, GBIF: 15%, NCBI: 54%</span></span>
<span><span class="co">#&gt; * Published in ref # DOI:NA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">nets_lagoons</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "mgNetworksCollection"</span></span></code></pre></div>
<p>Note that <code>mgNetworksCollection</code> objects are lists of <code>mgNetwork</code> object which are a list of five datasets reflecting the 5 tables presented in the diagram in the first section:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">nets_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "network"      "nodes"        "interactions" "dataset"      "reference"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nets_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">network</span><span class="op">)</span></span>
<span><span class="co">#&gt;   network_id                    name                     date                                     description public all_interactions               created_at               updated_at dataset_id user_id</span></span>
<span><span class="co">#&gt; 1         86 zetina_2003_20030101_86 2003-01-01T00:00:00.000Z Dietary matrix of the Huizache–Caimanero lagoon   TRUE            FALSE 2019-02-23T17:04:34.046Z 2019-02-23T17:04:34.046Z         22       3</span></span>
<span><span class="co">#&gt;   geom_type  geom_lon geom_lat</span></span>
<span><span class="co">#&gt; 1     Point -106.1099 22.98531</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nets_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">nodes</span><span class="op">)</span></span>
<span><span class="co">#&gt;   node_id original_name node_level network_id taxonomy_id               created_at               updated_at taxonomy.id taxonomy.name taxonomy.ncbi taxonomy.tsn taxonomy.eol taxonomy.bold taxonomy.gbif</span></span>
<span><span class="co">#&gt; 1    4904      Scianids      taxon         86        4363 2019-02-23T17:04:42.505Z 2019-02-23T17:04:42.505Z        4363    Sciaenidae         30870       169237         5211          1856            NA</span></span>
<span><span class="co">#&gt; 2    4905       Elopids      taxon         86        4364 2019-02-23T17:04:42.571Z 2019-02-23T17:04:42.571Z        4364         Elops          7927        28630     46561210          4061            NA</span></span>
<span><span class="co">#&gt; 3    4906     Lutjanids      taxon         86        4365 2019-02-23T17:04:42.622Z 2019-02-23T17:04:42.622Z        4365    Lutjanidae         30850       168845         5294          1858            NA</span></span>
<span><span class="co">#&gt; 4    4907     Carangids      taxon         86        4366 2019-02-23T17:04:42.672Z 2019-02-23T17:04:42.672Z        4366    Carangidae          8157       168584         5361          1851            NA</span></span>
<span><span class="co">#&gt; 5    4908  Centropomids      taxon         86        4367 2019-02-23T17:04:42.728Z 2019-02-23T17:04:42.728Z        4367 Centropomidae          8184       167642         5355           586            NA</span></span>
<span><span class="co">#&gt; 6    4909        Ariids      taxon         86        4368 2019-02-23T17:04:42.786Z 2019-02-23T17:04:42.786Z        4368       Ariidae         31017        43998         5115          1313            NA</span></span>
<span><span class="co">#&gt;                       taxonomy.col taxonomy.rank      taxonomy.created_at      taxonomy.updated_at taxonomy</span></span>
<span><span class="co">#&gt; 1 81a86c329909d507edb5c296906ef3f4        family 2019-02-23T17:04:35.620Z 2019-06-14T15:25:46.438Z       NA</span></span>
<span><span class="co">#&gt; 2 94532a14786adeb25bcec244a53aadc1         genus 2019-02-23T17:04:35.744Z 2019-06-14T15:25:46.492Z       NA</span></span>
<span><span class="co">#&gt; 3 7150078b7dd31a5f7575240f1b76f834        family 2019-02-23T17:04:35.870Z 2019-06-14T15:25:46.546Z       NA</span></span>
<span><span class="co">#&gt; 4 1ccc9e80931658b72d166c1764b687b5        family 2019-02-23T17:04:35.975Z 2019-06-14T15:25:46.600Z       NA</span></span>
<span><span class="co">#&gt; 5 529f1f934910702cb5334f8aa90cd22f        family 2019-02-23T17:04:36.102Z 2019-06-14T15:25:46.654Z       NA</span></span>
<span><span class="co">#&gt; 6 f60963ef9a967267b989ec22096edd3b        family 2019-02-23T17:04:36.207Z 2019-06-14T15:25:46.708Z       NA</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nets_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">interactions</span><span class="op">)</span></span>
<span><span class="co">#&gt;   interaction_id node_from node_to                     date direction      type method attr_id value geom public network_id               created_at               updated_at attribute.id attribute.name</span></span>
<span><span class="co">#&gt; 1          48376      4912    4912 2003-01-01T00:00:00.000Z  directed predation     NA      12 0.026   NA   TRUE         86 2019-02-23T17:05:45.061Z 2019-02-23T17:05:45.061Z           12 dietary matrix</span></span>
<span><span class="co">#&gt; 2          48377      4912    4914 2003-01-01T00:00:00.000Z  directed predation     NA      12 0.025   NA   TRUE         86 2019-02-23T17:05:45.131Z 2019-02-23T17:05:45.131Z           12 dietary matrix</span></span>
<span><span class="co">#&gt; 3          48378      4912    4915 2003-01-01T00:00:00.000Z  directed predation     NA      12 0.003   NA   TRUE         86 2019-02-23T17:05:45.193Z 2019-02-23T17:05:45.193Z           12 dietary matrix</span></span>
<span><span class="co">#&gt; 4          48379      4912    4918 2003-01-01T00:00:00.000Z  directed predation     NA      12 0.009   NA   TRUE         86 2019-02-23T17:05:45.247Z 2019-02-23T17:05:45.247Z           12 dietary matrix</span></span>
<span><span class="co">#&gt; 5          48380      4912    4919 2003-01-01T00:00:00.000Z  directed predation     NA      12 0.009   NA   TRUE         86 2019-02-23T17:05:45.309Z 2019-02-23T17:05:45.309Z           12 dietary matrix</span></span>
<span><span class="co">#&gt; 6          48381      4912    4920 2003-01-01T00:00:00.000Z  directed predation     NA      12 0.016   NA   TRUE         86 2019-02-23T17:05:45.367Z 2019-02-23T17:05:45.367Z           12 dietary matrix</span></span>
<span><span class="co">#&gt;                                    attribute.description attribute.unit     attribute.created_at     attribute.updated_at</span></span>
<span><span class="co">#&gt; 1 Proportions of the consumer diets made up by the prey.             NA 2019-02-23T17:04:25.350Z 2019-02-23T17:04:25.350Z</span></span>
<span><span class="co">#&gt; 2 Proportions of the consumer diets made up by the prey.             NA 2019-02-23T17:04:25.350Z 2019-02-23T17:04:25.350Z</span></span>
<span><span class="co">#&gt; 3 Proportions of the consumer diets made up by the prey.             NA 2019-02-23T17:04:25.350Z 2019-02-23T17:04:25.350Z</span></span>
<span><span class="co">#&gt; 4 Proportions of the consumer diets made up by the prey.             NA 2019-02-23T17:04:25.350Z 2019-02-23T17:04:25.350Z</span></span>
<span><span class="co">#&gt; 5 Proportions of the consumer diets made up by the prey.             NA 2019-02-23T17:04:25.350Z 2019-02-23T17:04:25.350Z</span></span>
<span><span class="co">#&gt; 6 Proportions of the consumer diets made up by the prey.             NA 2019-02-23T17:04:25.350Z 2019-02-23T17:04:25.350Z</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nets_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">dataset</span><span class="op">)</span></span>
<span><span class="co">#&gt;   dataset_id        name                                     description public               created_at               updated_at ref_id user_id</span></span>
<span><span class="co">#&gt; 1         22 zetina_2003 Dietary matrix of the Huizache–Caimanero lagoon   TRUE 2019-02-23T17:04:32.017Z 2019-02-23T17:04:32.017Z     22       3</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nets_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">reference</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ref_id                           doi           first_author year jstor pmid</span></span>
<span><span class="co">#&gt; 1     22 10.1016/s0272-7714(02)00410-9 manuel j. zetina-rejon 2003    NA   NA</span></span>
<span><span class="co">#&gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     bibtex</span></span>
<span><span class="co">#&gt; 1 @article{Zetina_Rej_n_2003, doi = {10.1016/s0272-7714(02)00410-9}, url = {https://doi.org/10.1016%2Fs0272-7714%2802%2900410-9}, year = 2003, month = {aug}, publisher = {Elsevier {BV}}, volume = {57}, number = {5-6}, pages = {803--815}, author = {Manuel J. Zetina-Rejón and Francisco Arreguí-Sánchez and Ernesto A. Chávez}, title = {Trophic structure and flows of energy in the Huizache{\textendash}Caimanero lagoon complex on the Pacific coast of Mexico},journal = {Estuarine, Coastal and Shelf Science}}</span></span>
<span><span class="co">#&gt;                                             paper_url                 data_url               created_at               updated_at</span></span>
<span><span class="co">#&gt; 1 https://doi.org/10.1016%2Fs0272-7714%2802%2900410-9 https://globalwebdb.com/ 2019-02-23T17:04:28.307Z 2019-02-23T17:04:28.307Z</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="integrated-workflow-with-rmangal">Integrated workflow with <strong>rmangal</strong><a class="anchor" aria-label="anchor" href="#integrated-workflow-with-rmangal"></a>
</h2>
<div class="section level3">
<h3 id="batch-analysis">Batch analysis<a class="anchor" aria-label="anchor" href="#batch-analysis"></a>
</h3>
<p>So far, the search functions of <strong>rmangal</strong> allow the user to perform only a single search at a time. The simplest way to do more than one search is to loop over a vector or a list of queries. Below we exemplify how to do so using <code><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply()</a></code>:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">tsn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">837855</span>, <span class="fl">169237</span><span class="op">)</span></span>
<span><span class="va">mgn</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">tsn</span>, <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span><span class="op">(</span>tsn <span class="op">=</span> <span class="va">x</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">get_collection</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="va">combine_mgNetworks</span></span>
<span><span class="va">mgn</span></span>
<span><span class="co">#&gt; A collection of 3 networks</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * Network #948 included in dataset #66</span></span>
<span><span class="co">#&gt; * Description: Flower and anthophilous insect interactions in the primary cool-temperate subalpine forests and meadows at Mt. Kushigata, Yamanashi Prefecture, Japan</span></span>
<span><span class="co">#&gt; * Includes 871 edges and 456 nodes </span></span>
<span><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></span>
<span><span class="co">#&gt;   --&gt; ITIS: 20%, BOLD: 33%, EOL: 46%, COL: 43%, GBIF: 35%, NCBI: 38%</span></span>
<span><span class="co">#&gt; * Published in ref # DOI:NA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * Network #86 included in dataset #22</span></span>
<span><span class="co">#&gt; * Description: Dietary matrix of the Huizache–Caimanero lagoon</span></span>
<span><span class="co">#&gt; * Includes 189 edges and 26 nodes </span></span>
<span><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></span>
<span><span class="co">#&gt;   --&gt; ITIS: 81%, BOLD: 81%, EOL: 85%, COL: 81%, GBIF: 0%, NCBI: 85%</span></span>
<span><span class="co">#&gt; * Published in ref # DOI:10.1016/s0272-7714(02)00410-9</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; * Network #1101 included in dataset #77</span></span>
<span><span class="co">#&gt; * Description: Food web of the Angolan fishery landings</span></span>
<span><span class="co">#&gt; * Includes 127 edges and 28 nodes </span></span>
<span><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></span>
<span><span class="co">#&gt;   --&gt; ITIS: 61%, BOLD: 50%, EOL: 61%, COL: 54%, GBIF: 4%, NCBI: 57%</span></span>
<span><span class="co">#&gt; * Published in ref # DOI:10.3989/scimar.2011.75n2309</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="geolocalize-mangal-networks-with-sf">Geolocalize Mangal networks with <code>sf</code><a class="anchor" aria-label="anchor" href="#geolocalize-mangal-networks-with-sf"></a>
</h3>
<p>The function <code><a href="../reference/get_collection.html">get_collection()</a></code> has an argument <code>as_sf</code> than converts network metadata of mgNetwork objects to <code>sf</code> objects, which requires <a href="https://cran.r-project.org/package=sf" class="external-link"><code>sf</code></a> to be installed. This allows the user to easily geolocalize the networks retrieved from Mangal.</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># assuming sf and mapview are is loaded (as we did above)</span></span>
<span><span class="va">mg_lag_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_datasets.html">search_datasets</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">'lagoon'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="../reference/get_collection.html">get_collection</a></span><span class="op">(</span>as_sf <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">mg_lag_sf</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">network</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "sf"         "data.frame"</span></span></code></pre></div>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># let's combine all these sf object into a single one</span></span>
<span><span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapView.html" class="external-link">mapView</a></span><span class="op">(</span><span class="va">mg_lag_sf</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">network</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://r-spatial.github.io/mapview/reference/mapView.html" class="external-link">mapView</a></span><span class="op">(</span><span class="va">mg_lag_sf</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">$</span><span class="va">network</span><span class="op">)</span></span></code></pre></div>
<p><img src="img/map2.png" alt="plot of chunk unnamed-chunk-18" width="60%"></p>
</div>
<div class="section level3">
<h3 id="taxonomic-analysis">Taxonomic analysis<a class="anchor" aria-label="anchor" href="#taxonomic-analysis"></a>
</h3>
<p>As Mangal includes taxonomic identifiers, <strong>rmangal</strong> can readily be combined with <code>taxize</code> (see <a href="https://github.com/ropensci/taxize" class="external-link">taxize</a> for more details about this package).</p>
</div>
<div class="section level3">
<h3 id="network-analysis-with-igraph">Network analysis with <code>igraph</code><a class="anchor" aria-label="anchor" href="#network-analysis-with-igraph"></a>
</h3>
<p>Once the data are retrieved and a <code>mgNetwork</code> or a <code>mgNetworkCollection</code> objects obtained, it is straightforward to convert it as a <code>igraph</code> (see the <a href="https://igraph.org/r/" class="external-link">dedicated website</a>) object and then to carry out network analysis:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r.igraph.org/" class="external-link">igraph</a></span><span class="op">)</span></span>
<span><span class="va">mg_lagoons</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/search_datasets.html">search_datasets</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">'lagoon'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">get_collection</span></span>
<span><span class="co"># NB the line below returns a list of igraph objects</span></span>
<span><span class="va">ig_lagoons</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r.igraph.org/reference/as.igraph.html" class="external-link">as.igraph</a></span><span class="op">(</span><span class="va">mg_lagoons</span><span class="op">)</span></span>
<span><span class="co">## Modularity analysis for the first network</span></span>
<span><span class="fu"><a href="https://r.igraph.org/reference/modularity.igraph.html" class="external-link">modularity</a></span><span class="op">(</span><span class="va">ig_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, <span class="fu"><a href="https://r.igraph.org/reference/communities.html" class="external-link">membership</a></span><span class="op">(</span><span class="fu"><a href="https://r.igraph.org/reference/cluster_walktrap.html" class="external-link">cluster_walktrap</a></span><span class="op">(</span><span class="va">ig_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 0.05139834</span></span>
<span><span class="co">## Degree values for all networks</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html" class="external-link">lapply</a></span><span class="op">(</span><span class="va">ig_lagoons</span>, <span class="va">degree</span><span class="op">)</span></span>
<span><span class="co">#&gt; [[1]]</span></span>
<span><span class="co">#&gt; 4904 4905 4906 4907 4908 4909 4910 4911 4912 4913 4914 4915 4916 4917 4918 4919 4920 4921 4922 4924 4925 4926 4927 4923 4929 4928 </span></span>
<span><span class="co">#&gt;   17   11   14   13   18   20   14   10   18   14   12   15    7   15   14   12   14   11   26    7   22   15   21   16    5   17 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[2]]</span></span>
<span><span class="co">#&gt; 6459 6460 6461 6463 6464 6465 6458 6462 6466 6456 6457 </span></span>
<span><span class="co">#&gt;    4    7    9    3    3    7    4    6    3    4    4 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; [[3]]</span></span>
<span><span class="co">#&gt; 6445 6447 6448 6449 6450 6452 6453 6454 6446 6451 6455 6443 6444 </span></span>
<span><span class="co">#&gt;    6    4    5    5   11    2    5    8    3    5    4    5    5</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="network-manipulation-and-visualization-with-tidygraph-and-ggraph">Network manipulation and visualization with <code>tidygraph</code> and <code>ggraph</code><a class="anchor" aria-label="anchor" href="#network-manipulation-and-visualization-with-tidygraph-and-ggraph"></a>
</h3>
<p>The package <a href="https://github.com/thomasp85/tidygraph" class="external-link"><code>tidygraph</code></a> treats networks as two tidy tables (one for the edges and one for the nodes) that can be modified using the grammar of data manipulation developed in the <a href="https://www.tidyverse.org/" class="external-link">tidyverse</a>. Moreover, <code>tidygraph</code> wraps over most of the <code>igraph</code> functions so that the user can call a vast variety of algorithms to properly analysis networks. Fortunately, objects of class <code>mgNetwork</code> can readily be converted into <code>tbl_graph</code> objects which allows the user to benefit from all the tools included in <code>tidygraph</code>:</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidygraph.data-imaginist.com" class="external-link">tidygraph</a></span><span class="op">)</span></span>
<span><span class="co"># NB the line below would not work with a mgNetworksCollection (use lapply)</span></span>
<span><span class="va">tg_lagoons</span> <span class="op">&lt;-</span>  <span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/tbl_graph.html" class="external-link">as_tbl_graph</a></span><span class="op">(</span><span class="va">mg_lagoons</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>centrality_dg <span class="op">=</span> <span class="fu"><a href="https://tidygraph.data-imaginist.com/reference/centrality.html" class="external-link">centrality_degree</a></span><span class="op">(</span>mode <span class="op">=</span> <span class="st">'in'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">tg_lagoons</span> <span class="op"><a href="https://tidygraph.data-imaginist.com/reference/activate.html" class="external-link">%E&gt;%</a></span> <span class="va">as_tibble</span></span>
<span><span class="co">#&gt; # A tibble: 189 × 19</span></span>
<span><span class="co">#&gt;     from    to interaction_id date               direction type  method attr_id value public network_id created_at updated_at attribute.id attribute.name attribute.description attribute.unit attribute.created_at</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;int&gt;          &lt;int&gt; &lt;chr&gt;              &lt;chr&gt;     &lt;chr&gt; &lt;lgl&gt;    &lt;int&gt; &lt;dbl&gt; &lt;lgl&gt;       &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;             &lt;int&gt; &lt;chr&gt;          &lt;chr&gt;                 &lt;lgl&gt;          &lt;chr&gt;               </span></span>
<span><span class="co">#&gt;  1     9     9          48376 2003-01-01T00:00:… directed  pred… NA          12 0.026 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  2     9    11          48377 2003-01-01T00:00:… directed  pred… NA          12 0.025 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  3     9    12          48378 2003-01-01T00:00:… directed  pred… NA          12 0.003 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  4     9    15          48379 2003-01-01T00:00:… directed  pred… NA          12 0.009 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  5     9    16          48380 2003-01-01T00:00:… directed  pred… NA          12 0.009 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  6     9    17          48381 2003-01-01T00:00:… directed  pred… NA          12 0.016 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  7     9    18          48382 2003-01-01T00:00:… directed  pred… NA          12 0.284 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  8     9    19          48383 2003-01-01T00:00:… directed  pred… NA          12 0.231 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt;  9     9    21          48384 2003-01-01T00:00:… directed  pred… NA          12 0.079 TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt; 10     9    22          48385 2003-01-01T00:00:… directed  pred… NA          12 0.09  TRUE           86 2019-02-2… 2019-02-2…           12 dietary matrix Proportions of the c… NA             2019-02-23T17:04:25…</span></span>
<span><span class="co">#&gt; # ℹ 179 more rows</span></span>
<span><span class="co">#&gt; # ℹ 1 more variable: attribute.updated_at &lt;chr&gt;</span></span>
<span><span class="va">tg_lagoons</span> <span class="op"><a href="https://tidygraph.data-imaginist.com/reference/activate.html" class="external-link">%N&gt;%</a></span> <span class="va">as_tibble</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">original_name</span>, <span class="va">taxonomy.tsn</span>, <span class="va">centrality_dg</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 26 × 3</span></span>
<span><span class="co">#&gt;    original_name  taxonomy.tsn centrality_dg</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                 &lt;int&gt;         &lt;dbl&gt;</span></span>
<span><span class="co">#&gt;  1 Scianids             169237             1</span></span>
<span><span class="co">#&gt;  2 Elopids               28630             0</span></span>
<span><span class="co">#&gt;  3 Lutjanids            168845             1</span></span>
<span><span class="co">#&gt;  4 Carangids            168584             2</span></span>
<span><span class="co">#&gt;  5 Centropomids         167642             2</span></span>
<span><span class="co">#&gt;  6 Ariids                43998             1</span></span>
<span><span class="co">#&gt;  7 Haemulids            169055             4</span></span>
<span><span class="co">#&gt;  8 Pleuronectoids       172859             3</span></span>
<span><span class="co">#&gt;  9 Callinectes           13951             6</span></span>
<span><span class="co">#&gt; 10 Belonoids            165546             4</span></span>
<span><span class="co">#&gt; # ℹ 16 more rows</span></span></code></pre></div>
<p>Another strong advantage of <code>tbl_graph</code> objects is that there are the objects used by the package <a href="https://github.com/thomasp85/ggraph" class="external-link"><code>ggraph</code></a> that that offers various functions (theme, geoms, etc.) to efficiently visualize networks:</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggraph.data-imaginist.com" class="external-link">ggraph</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://ggraph.data-imaginist.com/reference/ggraph.html" class="external-link">ggraph</a></span><span class="op">(</span><span class="va">tg_lagoons</span>, layout <span class="op">=</span> <span class="st">"stress"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_edge_parallel.html" class="external-link">geom_edge_parallel</a></span><span class="op">(</span>end_cap <span class="op">=</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geometry.html" class="external-link">circle</a></span><span class="op">(</span><span class="fl">.5</span><span class="op">)</span>, start_cap <span class="op">=</span> <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geometry.html" class="external-link">circle</a></span><span class="op">(</span><span class="fl">.5</span><span class="op">)</span>,</span>
<span>        arrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/arrow.html" class="external-link">arrow</a></span><span class="op">(</span>length <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grid/unit.html" class="external-link">unit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="st">'mm'</span><span class="op">)</span>, type <span class="op">=</span> <span class="st">'closed'</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/geom_node_point.html" class="external-link">geom_node_point</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>colour <span class="op">=</span> <span class="va">taxonomy.rank</span><span class="op">)</span>, size <span class="op">=</span> <span class="fl">8</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggraph.data-imaginist.com/reference/theme_graph.html" class="external-link">theme_graph</a></span><span class="op">(</span>background <span class="op">=</span> <span class="st">"grey40"</span>, foreground <span class="op">=</span> <span class="cn">NA</span>, text_colour <span class="op">=</span> <span class="st">'white'</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="img/ggraph-1.png" alt=""><p class="caption">plot of chunk ggraph</p>
</div>
</div>
<div class="section level3">
<h3 id="creating-a-list-references-for-a-set-of-networks">Creating a list references for a set of networks<a class="anchor" aria-label="anchor" href="#creating-a-list-references-for-a-set-of-networks"></a>
</h3>
<p>We can easily print the BibTeX of all publications involved in the networks collection.</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/search_datasets.html">search_datasets</a></span><span class="op">(</span>query <span class="op">=</span> <span class="st">'lagoon'</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>   <span class="va">get_collection</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="va">get_citation</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span>sep <span class="op">=</span> <span class="st">"\n\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; @article{Zetina_Rej_n_2003, doi = {10.1016/s0272-7714(02)00410-9}, url = {https://doi.org/10.1016%2Fs0272-7714%2802%2900410-9}, year = 2003, month = {aug}, publisher = {Elsevier {BV}}, volume = {57}, number = {5-6}, pages = {803--815}, author = {Manuel J. Zetina-Rejón and Francisco Arreguí-Sánchez and Ernesto A. Chávez}, title = {Trophic structure and flows of energy in the Huizache{   extendash}Caimanero lagoon complex on the Pacific coast of Mexico},journal = {Estuarine, Coastal and Shelf Science}}</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; @book{yanez_1978, Author = {Yáñez-Arancibia, Alejandro}, Editor = {Universidad Nacional Autónoma de México, Centro de Ciencias del Mar y Limnología. Ciudad Universitaria, México, D.F. -- 1a ed.},Title = {Taxonomía, ecología y estructura de las comunidades de peces en lagunas costeras con bocas efímeras del Pacífico de México}, Year = {1978}}</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-chamberlain_2019" class="csl-entry">
Chamberlain, Scott, Eduard Szoecs, Zachary Foster, Zebulun Arendsee, Carl Boettiger, Karthik Ram, Ignasi Bartomeus, et al. 2019. <em>Taxize: Taxonomic Information from Around the Web</em>. <a href="https://github.com/ropensci/taxize" class="external-link">https://github.com/ropensci/taxize</a>.
</div>
<div id="ref-poisot_mangal_2016" class="csl-entry">
Poisot, Timothée, Benjamin Baiser, Jennifer A. Dunne, Sonia Kéfi, François Massol, Nicolas Mouquet, Tamara N. Romanuk, Daniel B. Stouffer, Spencer A. Wood, and Dominique Gravel. 2016. <span>“Mangal - Making Ecological Network Analysis Simple.”</span> <em>Ecography</em> 39 (4): 384–90.
</div>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><!-- begin footer --><div class="footer">
    <div class="container">
        <div class="row start top-4 bottom-8">
            <div class="col-2"> <img id="footerlogo" src="https://ropensci.org/img/icon_short_white.svg">
</div>
            <div class="col-10">
                <div class="row">
                    <div class="col-md-4 col-xs-6">
                        <a href="https://github.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-github"></div></a>
                        <a href="https://github.com/ropenscilabs" target="_blank" class="external-link"><div class="icon fa fa-flask"></div></a>
                        <a href="https://hachyderm.io/@ropensci" target="_blank" class="external-link"><div class="icon fab fa-mastodon"></div></a>
                        <a href="https://vimeo.com/ropensci" target="_blank" class="external-link"><div class="icon fab fa-vimeo"></div></a>
                    </div>
                </div>
                <div class="row top-4">
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">About</h5>
                            <li><a href="https://ropensci.org/about" class="external-link">About rOpenSci</a></li>
                            <li><a href="https://ropensci.org/software-review" class="external-link">Software Review</a></li>
                            <li><a href="https://ropensci.org/about#team" class="external-link">Our Team</a></li>
                            <li><a href="https://ropensci.org/careers" class="external-link">Jobs</a></li>
                            <li><a href="https://ropensci.org/donate" class="external-link">Donate</a></li>
                            <li><a href="https://ropensci.org/contact" class="external-link">Contact Us</a></li>
                        </ul>
</div>
                    <div class="col-md-3 col-sm-4">
                        <ul>
<h5 class="bottom-2">Community</h5>
                            <li><a href="https://ropensci.org/community/" class="external-link">Our Community</a></li>
                            <li><a href="https://ropensci.org/commcalls/" class="external-link">Community calls</a></li>
                            <li><a href="https://ropensci.org/events/" class="external-link">Events</a></li>
                            <li><a href="https://discuss.ropensci.org/" class="external-link">Join the Discussion</a></li>
                            <li><a href="https://ropensci.org/code-of-conduct" class="external-link">Code of conduct</a></li>
                        </ul>
</div>
                    <div class="col-md-2 col-sm-4">
                        <ul>
<h5 class="bottom-2">Resources</h5>
                            <li><a href="https://ropensci.org/packages/" class="external-link">Packages</a></li>
                            <li><a href="https://ropensci.org/usecases/" class="external-link">Use Cases</a></li>
                            <li><a href="https://ropensci.org/talks-papers/" class="external-link">Talks &amp; Publications</a></li>
                            <li><a href="https://docs.ropensci.org/" class="external-link">Documentation</a></li>
                            <li><a href="https://ropensci.org/news/" class="external-link">Newsletter</a></li>
                            <li><a href="https://ropensci.org/how-to-cite-ropensci/" class="external-link">Cite rOpenSci</a></li>
                        </ul>
</div>
                    <div class="col-md-4 col-xs-12">
                        <h5 class="bottom-2"></h5>

                        <p>rOpenSci is a fiscally sponsored project of <a href="http://numfocus.org" class="external-link">NumFOCUS</a>.</p>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- / end footer -->


    </footer>
</div>

  

  

  </body>
</html>

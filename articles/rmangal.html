<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Get started with rmangal • rOpenSci: rmangal</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- ropensci --><link href="../ropensci.css" rel="stylesheet">
<meta property="og:title" content="Get started with rmangal">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-462421-8"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-462421-8');
</script>
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a href="https://ropensci.org"><img src="../hexlogo.png" id="hexlogo" alt="rOpenSci"></a>
        <a class="navbar-brand" href="../index.html"><i>rmangal <small>v2.0.1</small></i></a>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rmangal.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ropensci/rmangal">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rmangal_files/htmlwidgets-1.5.1/htmlwidgets.js"></script><script src="rmangal_files/jquery-1.12.4/jquery.min.js"></script><link href="rmangal_files/leaflet-1.3.1/leaflet.css" rel="stylesheet">
<script src="rmangal_files/leaflet-1.3.1/leaflet.js"></script><link href="rmangal_files/leafletfix-1.0.0/leafletfix.css" rel="stylesheet">
<script src="rmangal_files/Proj4Leaflet-1.0.1/proj4-compressed.js"></script><script src="rmangal_files/Proj4Leaflet-1.0.1/proj4leaflet.js"></script><link href="rmangal_files/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet">
<script src="rmangal_files/leaflet-binding-2.0.2/leaflet.js"></script><script src="rmangal_files/leaflet-providers-1.1.17/leaflet-providers.js"></script><script src="rmangal_files/leaflet-providers-plugin-2.0.2/leaflet-providers-plugin.js"></script><link href="rmangal_files/HomeButton-0.0.1/home-button.css" rel="stylesheet">
<script src="rmangal_files/HomeButton-0.0.1/home-button.js"></script><script src="rmangal_files/HomeButton-0.0.1/easy-button-src.min.js"></script><link href="rmangal_files/PopupTable-0.0.1/popup.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Get started with rmangal</h1>
                        <h4 class="author">Steve Vissault &amp; Kevin Cazelles</h4>
                        
            <h4 class="date">2019-10-19</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ropensci/rmangal/blob/master/vignettes/rmangal.Rmd"><code>vignettes/rmangal.Rmd</code></a></small>
      <div class="hidden name"><code>rmangal.Rmd</code></div>

    </div>

    
    
<div id="context" class="section level1">
<h1 class="hasAnchor">
<a href="#context" class="anchor"></a>Context</h1>
<div id="the-mangal-project" class="section level2">
<h2 class="hasAnchor">
<a href="#the-mangal-project" class="anchor"></a>The Mangal project</h2>
<p><a href="https://mangal.io">The Mangal project</a> aims at archiving published ecological networks and at easing their retrieval. To do so, Mangal:</p>
<ol style="list-style-type: decimal">
<li><p>uses a data specification for ecological networks <span class="citation">(described in Poisot et al. 2016)</span>;</p></li>
<li><p>archives ecological networks in a <a href="https://www.postgresql.org/">PostgreSQL</a> database;</p></li>
<li>provides:</li>
</ol>
<ul>
<li>
<a href="https://mangal.io/#/">a data explorer</a> to visualize and download data available;</li>
<li>a <a href="https://mangal-wg.github.io/mangal-api/">RESTful Application Programming Interface (API)</a>;</li>
<li>a client library for Julia: <a href="https://github.com/PoisotLab/Mangal.jl">Mangal.jl</a>;</li>
<li>a client of this API for R: the <strong>rmangal</strong> package described below.</li>
</ul>
<p>Currently, 172 datasets are including in the database representing over <a href="https://mangal.io/#/network">1300 ecological networks</a>. In 2016, the first paper describing the project was published and introduced the first release of <strong>rmangal</strong> <span class="citation">(Poisot et al. 2016)</span>. Since then, the structure of the database has been improved (new fields have been added), several ecological networks added and the API entirely rewritten. Consequently, <a href="https://github.com/mangal-wg/rmangal-v1">the first release of the <strong>rmangal</strong></a> is obsolete (and archived) and we introduce <strong>rmangal v2.0</strong> in this vignette.</p>
</div>
<div id="data-structure" class="section level2">
<h2 class="hasAnchor">
<a href="#data-structure" class="anchor"></a>Data structure</h2>
<p><br></p>
<div class="row">
<div class="col-md-6">
<p><img src="https://raw.githubusercontent.com/mangal-wg/rmangal/gh-pages/reference/figures/data_structure.png" alt="Mangal data structure"></p>
</div>
<div class="col-md-6">
<p>The diagram on the left side represents the structure of the Mangal database. All <em>references</em> included in Mangal correspond to a specific publication that includes one or several <em>dataset(s)</em>. This dataset is basically a collection of ecological <em>networks</em> whose <em>nodes</em> and <em>interactions</em> (edges) are stored in separate tables. Below, we briefly describe the content of each table.</p>
<p><strong>References</strong> – Information pertaining to a reference (scientific article, book, online website, etc.) characterizing an original collection of ecological networks. URLs of data and publication sources are included as well as persistent identifiers (when available) such as digital object identifiers (DOIs). This allows the user to retrieve more details about original publications using appropriate R packages such as <a href="https://docs.ropensci.org/rcrossref/">crossref</a>.</p>
<p><strong>Datasets</strong> – Metadata of the datasets attached to a reference. It includes a general description of the networks.</p>
<p><strong>Networks</strong> – Metadata of the networks attached to a dataset. It provides the sampling location, date and specific description of the network.</p>
<p><strong>Nodes</strong> – Information on the population, taxa or individu in the network. Each node has the original taxon name documented and taxonomic backbone provided by all services embedded in taxize <span class="citation">(Chamberlain et al. 2019)</span>.</p>
<p><strong>Interactions</strong> – Information on the interaction type (e.g. mutualism, predation, etc.), the strength, and the direction of the interaction between two nodes.</p>
</div>
</div>
</div>
<div id="authentication" class="section level2">
<h2 class="hasAnchor">
<a href="#authentication" class="anchor"></a>Authentication</h2>
<p>So far, the <code>rmangal</code> package provides methods to get access to the data store. Data requests (performed via <code><a href="https://httr.r-lib.org/reference/GET.html">httr::GET()</a></code>) do not require any authentication.</p>
<p>A bearer authentication strategy using <a href="https://orcid.org/">ORCID</a> credentials (as a third-party services) has been implemented on all <code>POST</code>, <code>DELETE</code>, <code>PUT</code> API operations to allow the user to add and delete new ecological to the data base. These features are not currently included in the <strong>rmangal</strong> package, but are under consideration for future major releases.</p>
</div>
</div>
<div id="how-to-use-rmangal" class="section level1">
<h1 class="hasAnchor">
<a href="#how-to-use-rmangal" class="anchor"></a>How to use <strong>rmangal</strong>
</h1>
<div id="overall-approach" class="section level2">
<h2 class="hasAnchor">
<a href="#overall-approach" class="anchor"></a>Overall approach</h2>
<p>In order to efficiently retrieve networks from the database, <strong>rmangal</strong> includes 7 search functions querying the 5 tables described above as well as a table dedicated to the taxonomy backbone.</p>
<ol style="list-style-type: decimal">
<li>
<code><a href="../reference/search_references.html">search_references()</a></code>: search in the reference table, for instance the user can look for a specific <code>doi</code>;</li>
<li>
<code><a href="../reference/search_datasets.html">search_datasets()</a></code>: search among datasets using a keyword;</li>
<li>
<code><a href="../reference/search_networks.html">search_networks()</a></code> and <code><a href="../reference/search_networks.html">search_networks_sf()</a></code>: search networks based on a keyword or a geographical area;</li>
<li>
<code><a href="../reference/search_interactions.html">search_interactions()</a></code>: list all networks containing a specific interaction type;</li>
<li>
<code><a href="../reference/search_nodes.html">search_nodes()</a></code>: identify nodes based on nodes information;</li>
<li>
<code><a href="../reference/search_taxonomy.html">search_taxonomy()</a></code>: identify nodes based on taxonomic names and unique identifiers.</li>
</ol>
<p>All of these functions return specific class objects with the information needed to retrieve the corresponding set of ecological networks with <code><a href="../reference/get_collection.html">get_collection()</a></code>. Hence, the user can easily retrieve data in two steps:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1">networks &lt;-<span class="st"> </span>search_<span class="op">*</span>() <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_collection.html">get_collection</a></span>()</a></code></pre></div>
<p>Note that if there is only one network to be retrieved, <code><a href="../reference/get_collection.html">get_collection()</a></code> returns a <code>mgNetwork</code> object, otherwise it returns an object of class <code>mgNetworksCollection</code> which is a collection (a list) of <code>mgNetwork</code> objects. Below, we exemplify how to use the search functions, how to get a collection of networks and how to use other packages to carry out specific analyses.</p>
</div>
<div id="search-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#search-functions" class="anchor"></a>Search functions</h2>
<p>In <strong>rmangal</strong>, every functions queries a specific table and allow only one query at a time (see section <a href="#batch-analysis">Batch analysis</a> to learn how to perform more than one query). All the functions offer two ways to query the corresponding table:</p>
<ol style="list-style-type: decimal">
<li>a keyword: in this case, the entries returned are the partial or full keyword match of any strings contained in the table;</li>
<li>a custom query: in this case, entries returned are exact matches.</li>
</ol>
<p>Let’s load <strong>rmangal</strong> as well as two helper packages:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(rmangal)</a>
<a class="sourceLine" id="cb2-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(magrittr) <span class="co"># for the pipe %&gt;%</span></a>
<a class="sourceLine" id="cb2-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tibble) <span class="co"># to use tibble (enhanced data frames)</span></a></code></pre></div>
<div id="search-and-list-available-datasets" class="section level3">
<h3 class="hasAnchor">
<a href="#search-and-list-available-datasets" class="anchor"></a>Search and list available datasets</h3>
<p>Let’s assume we are looking for ecological networks including species living in lagoons. If we have no idea about any existing data set, the best starting point is then to query the <code>dataset</code> table with <code>lagoon</code> as a keyword:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1">lagoon &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_datasets.html">search_datasets</a></span>(<span class="dt">query =</span> <span class="st">"lagoon"</span>)</a>
<a class="sourceLine" id="cb3-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/class.html">class</a></span>(lagoon)</a>
<a class="sourceLine" id="cb3-3" title="3"><span class="co">#&gt; [1] "tbl_df"           "tbl"              "data.frame"      </span></a>
<a class="sourceLine" id="cb3-4" title="4"><span class="co">#&gt; [4] "mgSearchDatasets"</span></a>
<a class="sourceLine" id="cb3-5" title="5">lagoon</a>
<a class="sourceLine" id="cb3-6" title="6"><span class="co">#&gt; # A tibble: 2 x 10</span></a>
<a class="sourceLine" id="cb3-7" title="7"><span class="co">#&gt;      id name  description public created_at updated_at ref_id user_id</span></a>
<a class="sourceLine" id="cb3-8" title="8"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;lgl&gt;  &lt;chr&gt;      &lt;chr&gt;       &lt;int&gt;   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb3-9" title="9"><span class="co">#&gt; 1    22 zeti… Dietary ma… TRUE   2019-02-2… 2019-02-2…     22       3</span></a>
<a class="sourceLine" id="cb3-10" title="10"><span class="co">#&gt; 2    52 yane… Food web o… TRUE   2019-02-2… 2019-02-2…     53       3</span></a>
<a class="sourceLine" id="cb3-11" title="11"><span class="co">#&gt; # … with 2 more variables: references &lt;list&gt;, networks &lt;list&gt;</span></a></code></pre></div>
<p>If the Mangal reference id containing the lagoon networks was known, we could build a custom query as follow:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">lagoon_zetina &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_datasets.html">search_datasets</a></span>(<span class="kw"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="dt">ref_id =</span> <span class="dv">22</span>))</a>
<a class="sourceLine" id="cb4-2" title="2">lagoon_zetina</a>
<a class="sourceLine" id="cb4-3" title="3"><span class="co">#&gt; # A tibble: 1 x 10</span></a>
<a class="sourceLine" id="cb4-4" title="4"><span class="co">#&gt;      id name  description public created_at updated_at ref_id user_id</span></a>
<a class="sourceLine" id="cb4-5" title="5"><span class="co">#&gt;   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;       &lt;lgl&gt;  &lt;chr&gt;      &lt;chr&gt;       &lt;int&gt;   &lt;int&gt;</span></a>
<a class="sourceLine" id="cb4-6" title="6"><span class="co">#&gt; 1    22 zeti… Dietary ma… TRUE   2019-02-2… 2019-02-2…     22       3</span></a>
<a class="sourceLine" id="cb4-7" title="7"><span class="co">#&gt; # … with 2 more variables: references &lt;list&gt;, networks &lt;list&gt;</span></a></code></pre></div>
<p>Note that if an empty character is passed, i.e. <code>""</code>, all entries are returned. We can use this behavior to list all datasets available:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">all_datasets &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_datasets.html">search_datasets</a></span>(<span class="st">""</span>)</a>
<a class="sourceLine" id="cb5-2" title="2"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(all_datasets)</a>
<a class="sourceLine" id="cb5-3" title="3"><span class="co">#&gt; Observations: 172</span></a>
<a class="sourceLine" id="cb5-4" title="4"><span class="co">#&gt; Variables: 10</span></a>
<a class="sourceLine" id="cb5-5" title="5"><span class="co">#&gt; $ id          &lt;int&gt; 2, 7, 9, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,…</span></a>
<a class="sourceLine" id="cb5-6" title="6"><span class="co">#&gt; $ name        &lt;chr&gt; "howking_1968", "lundgren_olesen_2005", "elberling_o…</span></a>
<a class="sourceLine" id="cb5-7" title="7"><span class="co">#&gt; $ description &lt;chr&gt; "Insect activity recorded on flower at Lake Hazen, E…</span></a>
<a class="sourceLine" id="cb5-8" title="8"><span class="co">#&gt; $ public      &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE…</span></a>
<a class="sourceLine" id="cb5-9" title="9"><span class="co">#&gt; $ created_at  &lt;chr&gt; "2019-02-22T15:39:00.427Z", "2019-02-22T20:04:25.322…</span></a>
<a class="sourceLine" id="cb5-10" title="10"><span class="co">#&gt; $ updated_at  &lt;chr&gt; "2019-02-22T15:39:00.427Z", "2019-02-22T20:04:25.322…</span></a>
<a class="sourceLine" id="cb5-11" title="11"><span class="co">#&gt; $ ref_id      &lt;int&gt; 2, 7, 9, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,…</span></a>
<a class="sourceLine" id="cb5-12" title="12"><span class="co">#&gt; $ user_id     &lt;int&gt; 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3…</span></a>
<a class="sourceLine" id="cb5-13" title="13"><span class="co">#&gt; $ references  &lt;list&gt; [&lt;data.frame[1 x 11]&gt;, &lt;data.frame[1 x 11]&gt;, &lt;data.…</span></a>
<a class="sourceLine" id="cb5-14" title="14"><span class="co">#&gt; $ networks    &lt;list&gt; [&lt;data.frame[1 x 13]&gt;, &lt;data.frame[1 x 13]&gt;, &lt;data.…</span></a></code></pre></div>
<p>As shown in the diagram above, a dataset comes from a specific reference and <code><a href="../reference/search_references.html">search_references()</a></code> queries the reference table directly. A handy argument of this function is <code>doi</code> as it allows to pass a Digital Object Identifier and so to retrieve all datasets attached to a specific publication.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" title="1">zetina_<span class="dv">2003</span> &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_references.html">search_references</a></span>(<span class="dt">doi =</span> <span class="st">"10.1016/s0272-7714(02)00410-9"</span>)</a></code></pre></div>
</div>
<div id="finding-a-specific-network" class="section level3">
<h3 class="hasAnchor">
<a href="#finding-a-specific-network" class="anchor"></a>Finding a specific network</h3>
<p>We can also search by keyword across all networks.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" title="1">insect_coll &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_networks.html">search_networks</a></span>(<span class="dt">query=</span><span class="st">"insect%"</span>)</a>
<a class="sourceLine" id="cb7-2" title="2"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(insect_coll)</a>
<a class="sourceLine" id="cb7-3" title="3"><span class="co">#&gt; Observations: 14</span></a>
<a class="sourceLine" id="cb7-4" title="4"><span class="co">#&gt; Variables: 13</span></a>
<a class="sourceLine" id="cb7-5" title="5"><span class="co">#&gt; $ id               &lt;int&gt; 18, 909, 948, 1460, 1461, 1471, 1493, 1501, 150…</span></a>
<a class="sourceLine" id="cb7-6" title="6"><span class="co">#&gt; $ name             &lt;chr&gt; "mosquin_martin_1967_19650731_18", "elberling_o…</span></a>
<a class="sourceLine" id="cb7-7" title="7"><span class="co">#&gt; $ date             &lt;chr&gt; "1965-07-31T00:00:00.000Z", "1994-08-23T00:00:0…</span></a>
<a class="sourceLine" id="cb7-8" title="8"><span class="co">#&gt; $ description      &lt;chr&gt; "Occurence of flower-visiting insect on plant s…</span></a>
<a class="sourceLine" id="cb7-9" title="9"><span class="co">#&gt; $ public           &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE,…</span></a>
<a class="sourceLine" id="cb7-10" title="10"><span class="co">#&gt; $ all_interactions &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, FALSE…</span></a>
<a class="sourceLine" id="cb7-11" title="11"><span class="co">#&gt; $ created_at       &lt;chr&gt; "2019-02-22T18:38:37.491Z", "2019-02-24T22:21:3…</span></a>
<a class="sourceLine" id="cb7-12" title="12"><span class="co">#&gt; $ updated_at       &lt;chr&gt; "2019-02-22T18:38:37.491Z", "2019-02-24T22:21:3…</span></a>
<a class="sourceLine" id="cb7-13" title="13"><span class="co">#&gt; $ dataset_id       &lt;int&gt; 4, 9, 66, 91, 91, 99, 114, 118, 118, 119, 124, …</span></a>
<a class="sourceLine" id="cb7-14" title="14"><span class="co">#&gt; $ user_id          &lt;int&gt; 3, 2, 2, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4, 4</span></a>
<a class="sourceLine" id="cb7-15" title="15"><span class="co">#&gt; $ geom_type        &lt;chr&gt; "Point", "Point", "Point", "Point", "Point", "P…</span></a>
<a class="sourceLine" id="cb7-16" title="16"><span class="co">#&gt; $ geom_lon         &lt;list&gt; [-114.9667, 18.5, 138.3833, -85.09443, -83.508…</span></a>
<a class="sourceLine" id="cb7-17" title="17"><span class="co">#&gt; $ geom_lat         &lt;list&gt; [75, 68.35, 35.5833, 10.4568, 8.534018, 9.9339…</span></a></code></pre></div>
<p>It is also possible to retrieve all networks based on interaction types involved:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" title="1"><span class="co"># List all interaction types available</span></a>
<a class="sourceLine" id="cb8-2" title="2"><span class="kw"><a href="../reference/avail_type.html">avail_type</a></span>()</a>
<a class="sourceLine" id="cb8-3" title="3"><span class="co">#&gt;  [1] "competition"  "amensalism"   "neutralism"   "commensalism"</span></a>
<a class="sourceLine" id="cb8-4" title="4"><span class="co">#&gt;  [5] "mutualism"    "parasitism"   "predation"    "herbivory"   </span></a>
<a class="sourceLine" id="cb8-5" title="5"><span class="co">#&gt;  [9] "symbiosis"    "scavenger"    "detritivore"  "unspecified"</span></a>
<a class="sourceLine" id="cb8-6" title="6">comp_interac &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_interactions.html">search_interactions</a></span>(<span class="dt">type=</span><span class="st">"competition"</span>)</a>
<a class="sourceLine" id="cb8-7" title="7"><span class="co"># Number of competition interactions in mangal</span></a>
<a class="sourceLine" id="cb8-8" title="8"><span class="kw"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span>(comp_interac)</a>
<a class="sourceLine" id="cb8-9" title="9"><span class="co">#&gt; [1] 12</span></a></code></pre></div>
<p><code><a href="../reference/search_networks.html">search_networks_sf()</a></code> handles spatial queries: argument <code>query_sf</code> takes a <a href="https://cran.r-project.org/package=sf"><code>sf</code></a> object as input and returns all networks included in the spatial extent of this object. For instance, one can retrieve all Californian networks included in Mangal like so:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(sf)</a>
<a class="sourceLine" id="cb9-2" title="2"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(mapview)</a>
<a class="sourceLine" id="cb9-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(USAboundaries)</a>
<a class="sourceLine" id="cb9-4" title="4">area &lt;-<span class="st"> </span><span class="kw"><a href="http://lincolnmullen.com/software/usaboundaries/reference/us_states.html">us_states</a></span>(<span class="dt">state =</span> <span class="st">"california"</span>)</a>
<a class="sourceLine" id="cb9-5" title="5">in_CA &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_networks.html">search_networks_sf</a></span>(area)</a>
<a class="sourceLine" id="cb9-6" title="6"></a>
<a class="sourceLine" id="cb9-7" title="7"><span class="kw"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapView</a></span>(in_CA, <span class="dt">legend =</span> <span class="ot">FALSE</span>) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapview</a></span>(sf<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/sf/man/st_cast.html">st_cast</a></span>(area,<span class="st">"MULTILINESTRING"</span>), <span class="dt">color =</span> <span class="st">"red"</span>, <span class="dt">legend =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<div id="htmlwidget-0d0d6969eabb05c95590" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-0d0d6969eabb05c95590">{"x":{"options":{"minZoom":1,"maxZoom":100,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",1,"CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter",2,"CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap",3,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",4,"Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenTopoMap",5,"OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["gcollection",410]},{"method":"addCircleMarkers","args":[[38.003734,35.02486,36.6166667],[-122.36325,-119.106607,-121.9],6,null,"in_CA",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"gcollection","stroke":true,"color":"#333333","weight":2,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,["<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>14&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>947&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>johnston_1956_19560101_947&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1956-01-01T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Predation by short-eared owls on a salicornia salt marsh&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-02-25T20:51:26.739Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-02-25T20:51:26.739Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>14&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>3&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>963&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1519&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hurlbert_et_al_1972&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1968-05-20T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of experimental fresh-water ponds, Bakersfield, California&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-11T15:26:52.651Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-11T15:26:52.651Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>135&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>969&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1525&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hewatt_1937&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1931-10-01T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of a protected rocky intertidal community, Monterey Bay, Cabrillo point, California&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-12T18:37:47.850Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-12T18:37:47.850Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>141&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["14","963","969"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addPolygons","args":[[[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]],[[{"lng":[-116.114402698622,-117.813621336863,-116.954512936205,-116.003482299683,-116.114402698622],"lat":[33.304209435313,34.585735297605,34.987090779836,33.661200052419,33.304209435313]}]]],null,"in_CA",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"gcollection","stroke":true,"color":"#333333","weight":2,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6,"smoothFactor":1,"noClip":false},["<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>990&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1550&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_1&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the gall community on A. canescens, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:01.592Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:01.592Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>991&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1551&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_2&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the gall community on A. polycarpa, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:17.527Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:17.527Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>992&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1552&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_3&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the blister leaf/nipple bud galls of Asphondylia on A. canescens, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:33.715Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:33.715Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>993&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1553&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_4&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the club stem galls of Asphondylia on A. polycarpa, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:39.215Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:39.215Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>994&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1554&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_5&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the fuzzy bud/flower galls of Asphondylia on A. canescens, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:43.066Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:43.066Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>995&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1555&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_6&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the nodular stem galls of Asphondylia on A. polycarpa, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:47.558Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:47.558Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>996&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1556&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_7&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the oval bud/flower galls of Asphondylia on A. canescens, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:52.186Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:52.186Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>997&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1557&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_8&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the oval twig galls of Asphondylia on A. canescens, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:56.654Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:43:56.654Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>998&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1558&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_9&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the tumour stem galls of Asphondylia on A. canescens, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:44:02.874Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:44:02.874Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>999&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1559&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_10&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the woolly stem galls of Asphondylia on A. polycarpa, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:44:10.482Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:44:10.482Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>","<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1000&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>id&emsp;<\/b><\/td><td align='right'>1560&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>hawkins_goeden_1984_11&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1979-07-14T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web structure of the woody/smooth stem galls of N. willistoni on A. canescens, southern California, USA&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:44:20.019Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-03-14T19:44:20.019Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>148&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>4&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_GEOMETRY&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>"],{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},["990","991","992","993","994","995","996","997","998","999","1000"],{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-122.36325,33.304209435313,-116.003482299683,38.003734,"Zoom to in_CA","<strong> in_CA <\/strong>","bottomright"]},{"method":"createMapPane","args":["line",430]},{"method":"addPolylines","args":[[[[{"lng":[-118.593969,-118.484785,-118.370323,-118.286261,-118.325244,-118.374768,-118.465368,-118.482609,-118.563442,-118.593969],"lat":[33.467198,33.487483,33.409285,33.351463,33.299075,33.320065,33.326056,33.369914,33.434381,33.467198]}],[{"lng":[-118.594033,-118.540069,-118.446771,-118.353504,-118.425634,-118.487908,-118.581513,-118.641578,-118.594033],"lat":[33.035951,32.980933,32.895424,32.821962,32.800595,32.84459,32.931672,33.017129,33.035951]}],[{"lng":[-119.578942,-119.510489,-119.427171,-119.429559,-119.464725,-119.545872,-119.578942],"lat":[33.278628,33.307269,33.266023,33.228167,33.215432,33.233406,33.278628]}],[{"lng":[-119.916216,-119.857304,-119.739472,-119.5667,-119.470736656944,-119.442654,-119.364214,-119.363065,-119.391587,-119.487719557382,-119.554472,-119.662825,-119.721206,-119.795938,-119.873358,-119.876916,-119.916216],"lat":[34.058351,34.071298,34.049299,34.053452,34.053996622104,34.054156,34.050794,34.000548,33.994636,33.9965151543893,33.99782,33.985889,33.959583,33.962929,33.980375,34.023527,34.058351]}],[{"lng":[-120.368278,-120.24248,-120.135853,-120.055107,-119.984316,-119.973691,-120.049682,-120.121817,-120.179049,-120.200085,-120.36484,-120.454134,-120.368278],"lat":[34.076465,34.057172,34.026087,34.037729,33.983948,33.942481,33.914563,33.895712,33.927994,33.956904,33.991781,34.028081,34.076465]}],[{"lng":[-124.387023,-124.301355,-124.176715,-124.118147,-124.125448,-124.154513,-124.163988,-124.122677,-124.092284,-124.063076,-124.067473659422,-124.081987,-124.116037,-124.143479,-124.154246,-124.19104,-124.245027,-124.219592,-124.203402,-124.211605,-124.001188,-123.822037598588,-123.656998,-123.519112836804,-123.43477,-123.347562,-123.231001260578,-123.145959,-123.045254,-122.80008,-122.501135,-122.289749096157,-122.289527,-122.101922,-121.846712,-121.675348,-121.447539998048,-121.43961,-121.251099,-121.035195,-120.879925710236,-120.692219,-120.501069,-120.181563,-119.999168,-119.999276,-119.99828,-119.999866,-119.999231,-119.997533,-119.996155,-119.997124,-119.997634,-119.999935448085,-120.00174,-120.003028919657,-120.004795512304,-120.005142,-120.003364028833,-120.002614842913,-120.001975250867,-120.001014,-119.904315,-119.587679,-119.585406144839,-119.328704521076,-119.279262,-119.157226100872,-118.949673,-118.500958,-118.427995325157,-118.022181,-117.833504044144,-117.68061,-117.244917,-117.166000564031,-117.000895,-116.488233,-116.375875,-116.093601,-115.892975,-115.846113922762,-115.648032019625,-115.647683,-115.404537,-115.303743,-115.160068,-115.043812,-114.804249,-114.633487,-114.629769,-114.634382,-114.576452,-114.490971,-114.465246,-114.422382,-114.378223,-114.378852,-114.335372,-114.264317,-114.172845,-114.14093,-114.14081715128,-114.139055,-114.17805,-114.229715,-114.292806,-114.348052,-114.405941,-114.428026,-114.43009113852,-114.435504,-114.454807,-114.509568,-114.534987,-114.508708,-114.505638,-114.520465,-114.504863,-114.496565,-114.504993,-114.525201,-114.529186,-114.524599,-114.597283,-114.629146518189,-114.635183,-114.673901,-114.725282,-114.707348,-114.707962,-114.723259,-114.674491,-114.678097,-114.679359,-114.706175,-114.670803,-114.628293,-114.575161,-114.517066790281,-114.511343,-114.481315,-114.47664,-114.463127,-114.468971,-114.531746,-114.570675,-114.617386523962,-114.667493,-114.705717,-114.719633,-115.000802,-115.465164,-116.04662,-116.10617888905,-116.540643,-116.62705,-116.857154,-117.124862,-117.132038955738,-117.136664,-117.168866,-117.17719654845,-117.196767,-117.246069,-117.255169,-117.25497,-117.280971,-117.28217,-117.27387,-117.262905,-117.25617,-117.256160535149,-117.25447,-117.272139427178,-117.28077,-117.315278,-117.362572,-117.445583,-117.547693,-117.59588,-117.596188685737,-117.645582,-117.715349,-117.726486,-117.732258297614,-117.814188,-117.840289,-117.927091,-118.000593,-118.088896,-118.115076722882,-118.132698,-118.1837,-118.231926185873,-118.258687,-118.317205,-118.333295892977,-118.354705,-118.396606,-118.428407,-118.394307,-118.412708,-118.460611,-118.519514,-118.603572,-118.679366,-118.744952,-118.805114,-118.854653,-118.944479511459,-118.954722,-119.069959,-119.109784,-119.227743,-119.257043,-119.270144,-119.276614251859,-119.313034,-119.37578,-119.461036,-119.477946706724,-119.536957,-119.616862,-119.684666,-119.709067,-119.785871,-119.835771,-119.873971,-119.971951,-120.050682,-120.141165,-120.295051,-120.451425,-120.511421,-120.550092,-120.581293,-120.622575,-120.645739,-120.60197,-120.614852,-120.62632,-120.610266,-120.670835,-120.65030521184,-120.63357,-120.629583,-120.635787,-120.675074,-120.714185,-120.756086,-120.846674,-120.89679,-120.87957,-120.862133,-120.884757,-120.955863,-121.003359,-121.11424,-121.166712,-121.272322,-121.314632,-121.332449,-121.347053956004,-121.406823,-121.462264,-121.4862,-121.531876,-121.574602,-121.622009,-121.680145,-121.779851,-121.826425,-121.888491,-121.903195,-121.9416,-121.970427,-121.923866,-121.860604,-121.814462,-121.796826,-121.791544,-121.812732426762,-121.862266,-121.906468,-121.95167,-122.027174,-122.06731672906,-122.105976,-122.20618,-122.260481,-122.284882,-122.294310191913,-122.322971,-122.344029,-122.397065,-122.418452,-122.405590143901,-122.401323,-122.409258,-122.443687,-122.445987,-122.493789,-122.516689,-122.518088,-122.496786,-122.496784,-122.500678019083,-122.505601251345,-122.511983,-122.465396,-122.398139,-122.385323,-122.376462,-122.356784,-122.361749,-122.389826876588,-122.39319,-122.360219,-122.244372,-122.168449,-122.129199702224,-122.111998,-122.144396,-122.152905,-122.162802519462,-122.163049,-122.213774,-122.24981,-122.252452,-122.312974,-122.333711,-122.303931,-122.328714287407,-122.33453,-122.378709,-122.425258,-122.367582,-122.368891,-122.342803852188,-122.321706,-122.262861,-122.269320054917,-122.301804,-122.393588,-122.397581230624,-122.488499639259,-122.491283,-122.499465,-122.452995,-122.488665,-122.486375,-122.448413,-122.41847,-122.483483,-122.537285,-122.60129,-122.678474,-122.70264,-122.754606,-122.797405,-122.856573,-122.939711,-122.97439,-123.011533,-122.960889,-122.953629,-122.987149,-122.986319,-123.003146477056,-123.004122,-123.053504,-123.068437,-123.085572,-123.166428,-123.249797,-123.331899,-123.349612,-123.441774,-123.514784,-123.540922011634,-123.571987,-123.638637,-123.659846,-123.71054,-123.732892,-123.69074,-123.721505,-123.765891,-123.798991,-123.825331,-123.81469,-123.766475,-123.782322,-123.792659,-123.829545,-123.851714,-123.907664,-123.954952,-124.02520517453,-124.035904,-124.068908,-124.087086,-124.139952,-124.187874,-124.258405,-124.34307,-124.363414,-124.353124,-124.365357,-124.409591,-124.387023],"lat":[40.504954,40.659643,40.843618,40.989263,41.048504,41.087159,41.138675,41.189726,41.287695,41.439579,41.4647361884909,41.547761,41.628849,41.709284,41.728801,41.736079,41.7923,41.846432,41.940964,41.99846,41.996146,41.995620816947,41.995137,41.9991725180329,42.001641,41.999108,42.004970062256,42.009247,42.003049,42.004071,42.00846,42.0077647304966,42.007764,42.005766,42.00307,42.000351,41.9971900332726,41.99708,41.99757,41.993323,41.9934832599849,41.993677,41.993785,41.994588,41.99454,41.874891,41.618765,41.183974,40.865899,40.720992,40.32125,40.126363,39.956505,39.7224069247242,39.538852,39.4450457761605,39.3164750119585,39.291258,39.1656267640688,39.1126893740958,39.0674958744683,38.999574,38.933324,38.714734,38.7131509006712,38.5343519277975,38.499914,38.4143919717613,38.26894,37.949019,37.8962242809098,37.602583,37.4649387662445,37.353399,37.030244,36.9712075385903,36.847694,36.459097,36.372562,36.155805,35.999967,35.9635526731109,35.8096292126029,35.809358,35.617605,35.538207,35.424129,35.332012,35.139689,35.001857,34.94304,34.87289,34.8153,34.724848,34.691202,34.580711,34.516521,34.450376,34.450038,34.401329,34.344979,34.305919,34.3031275138817,34.259538,34.239969,34.186928,34.166725,34.134458,34.11154,34.092787,34.0789314062795,34.042615,34.010968,33.957264,33.928499,33.90064,33.864276,33.827778,33.760465,33.719155,33.693022,33.661583,33.60665,33.552231,33.490653,33.4335449999998,33.422726,33.418299,33.405048,33.376628,33.323421,33.288079,33.255597,33.2303,33.159519,33.105335,33.037984,33.031052,33.036542,33.0246287635685,33.023455,32.972064,32.923628,32.901884,32.845155,32.782503,32.747417,32.7410527731766,32.734226,32.741581,32.718763,32.699676,32.6671,32.623353,32.6185781426356,32.583747,32.576261,32.557459,32.534156,32.5856011873821,32.618754,32.671952,32.6769976233918,32.688851,32.669352,32.700051,32.786948,32.822247,32.839547,32.851447,32.849349,32.859447,32.8596735941017,32.900146,32.9755245825488,33.012343,33.093504,33.168437,33.268517,33.365491,33.386629,33.3869649943199,33.440728,33.460556,33.483427,33.4879550239786,33.552224,33.573523,33.605521,33.654319,33.729817,33.743803322895,33.753217,33.736118,33.7152954678275,33.703741,33.712818,33.7211848352577,33.732317,33.735917,33.774715,33.804315,33.883913,33.969111,34.027509,34.039048,34.033255,34.032103,34.001239,34.034215,34.046738953351,34.048167,34.09047,34.094566,34.161728,34.213304,34.252903,34.2563404250143,34.275689,34.321118,34.374064,34.3788375587756,34.395495,34.420995,34.408297,34.395397,34.415997,34.415796,34.408795,34.444641,34.461651,34.473405,34.470623,34.447094,34.522953,34.542794,34.556959,34.554017,34.581035,34.692095,34.730709,34.738072,34.85818,34.904115,34.9751663022687,35.033085,35.078362,35.123805,35.153061,35.175998,35.160459,35.204429,35.247877,35.294184,35.360763,35.430196,35.453743,35.46071,35.57172,35.635399,35.666711,35.71331,35.783106,35.7951862038146,35.844623,35.885618,35.970348,36.014368,36.025156,36.099695,36.165818,36.227407,36.24186,36.30281,36.393603,36.485602,36.582754,36.634559,36.611136,36.682858,36.777543,36.815186,36.8500494437455,36.931552,36.96895,36.97145,36.95115,36.9535956897314,36.955951,37.013949,37.072548,37.101747,37.105141386718,37.11546,37.144099,37.187249,37.248521,37.3149650377439,37.337009,37.374805,37.435941,37.461541,37.492341,37.52134,37.576138,37.612136,37.686433,37.7081325680179,37.7355674652407,37.77113,37.800879,37.80563,37.790724,37.738558,37.729505,37.71501,37.708331,37.707531,37.592501,37.55814,37.504143,37.5213219985908,37.528851,37.581866,37.640771,37.6672730133697,37.667933,37.698695,37.726406,37.755129,37.777244,37.809797,37.830087,37.8938323463208,37.908791,37.905191,37.955672,37.978168,38.007948,38.0092538777817,38.01031,38.051473,38.0603744975312,38.105142,38.143449,38.1420035972533,38.1090944743082,38.108087,38.032165,37.996167,37.966714,37.921881,37.89341,37.852721,37.826728,37.830328,37.875126,37.906604,37.89382,37.935527,37.976657,38.016717,38.031908,37.992429,38.003438,38.112962,38.17567,38.237538,38.273164,38.2957052387145,38.297012,38.299385,38.33521,38.390525,38.474947,38.511045,38.565542,38.596805,38.699744,38.741966,38.7676562160393,38.798189,38.843865,38.872529,38.91323,38.954994,39.021293,39.125327,39.193657,39.271355,39.360814,39.446538,39.552803,39.621486,39.684122,39.723071,39.832041,39.863028,39.922373,40.001299341669,40.013319,40.021307,40.078442,40.11635,40.130542,40.184277,40.243979,40.260974,40.331425,40.374855,40.438076,40.504954]}]]],null,"sf::st_cast(area, \"MULTILINESTRING\")",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"line","stroke":true,"color":"#FF0000","weight":2,"opacity":0.9,"fill":false,"fillColor":"#6666FF","fillOpacity":1,"smoothFactor":1,"noClip":false},"<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>9&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>statefp&emsp;<\/b><\/td><td align='right'>06&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>statens&emsp;<\/b><\/td><td align='right'>01779778&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>affgeoid&emsp;<\/b><\/td><td align='right'>0400000US06&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>geoid&emsp;<\/b><\/td><td align='right'>06&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>stusps&emsp;<\/b><\/td><td align='right'>CA&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>California&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>lsad&emsp;<\/b><\/td><td align='right'>00&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>aland&emsp;<\/b><\/td><td align='right'>403501101370&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>awater&emsp;<\/b><\/td><td align='right'>20466718403&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>state_name&emsp;<\/b><\/td><td align='right'>California&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>state_abbr&emsp;<\/b><\/td><td align='right'>CA&emsp;<\/td><\/tr><tr><td>12<\/td><td><b>jurisdiction_type&emsp;<\/b><\/td><td align='right'>state&emsp;<\/td><\/tr><tr class='alt'><td>13<\/td><td><b>geometry&emsp;<\/b><\/td><td align='right'>sfc_MULTILINESTRING&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"9",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},{"stroke":true,"weight":3,"opacity":1,"fill":false,"fillOpacity":0,"bringToFront":false,"sendToBack":false}]},{"method":"addHomeButton","args":[-124.409591,32.534156,-114.139055,42.009247,"Zoom to sf::st_cast(area, \"MULTILINESTRING\")","<strong> sf::st_cast(area, \"MULTILINESTRING\") <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["in_CA","sf::st_cast(area, \"MULTILINESTRING\")"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addHomeButton","args":[-124.409591,32.534156,-114.139055,42.009247,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[33.304209435313,38.003734],"lng":[-122.36325,-116.003482299683]},"fitBounds":[32.534156,-124.409591,42.009247,-114.139055,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      //map.on('click', function (e) {\n      //  var txt = document.querySelector('.lnlt').textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = 'mycustom-clipboard-textarea-hidden-id';\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log('Creating textarea');\n      var textarea = document.createElement('textarea');\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = 'fixed';\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textarea.style.width = '1px';\n      textarea.style.height = '1px';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = 'none';\n      textarea.style.outline = 'none';\n      textarea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = 'transparent';\n      document.querySelector('body').appendChild(textarea);\n      console.log('The textarea now exists :)');\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log('The textarea already exists :3')\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand('copy');\n      if(!status){\n      console.error('Cannot copy text');\n      }else{\n      console.log('The text is now on the clipboard');\n      }\n      } catch (err) {\n      console.log('Unable to copy.');\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="search-for-a-specific-taxon" class="section level3">
<h3 class="hasAnchor">
<a href="#search-for-a-specific-taxon" class="anchor"></a>Search for a specific taxon</h3>
<p>The user can easily identify networks including a specific taxonomic entity with <code><a href="../reference/search_taxonomy.html">search_taxonomy()</a></code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" title="1">sr_ficus &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span>(<span class="st">"Ficus"</span>)</a></code></pre></div>
<p>This function allows to search for a specific taxonomic entity using it’s validated name or unique identifiers, i.e. EOL, TSN, GBIF, COL, BOLD and NCBI IDs. Taxon names of the <code>taxonomy</code> table were validated with TNRS (see <a href="http://tnrs.iplantcollaborative.org/" class="uri">http://tnrs.iplantcollaborative.org/</a> and/or GNR (see <a href="https://resolver.globalnames.org/" class="uri">https://resolver.globalnames.org/</a>). The taxon names in this table might not be the taxon name documented in the original publication. In order to identify relevant networks with the original name, use [search_nodes()].</p>
<p>The validation of taxon names was performed by an automated procedure using taxize <span class="citation">(Chamberlain et al. 2019)</span> and if there is any doubt, the original names recorded by authors should be regarded as the most reliable information. Please report any issue related to taxonomy at <a href="https://github.com/mangal-wg/mangal-datasets/issues" class="uri">https://github.com/mangal-wg/mangal-datasets/issues</a>.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" title="1"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="kw"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span>(<span class="dt">tsn =</span> <span class="dv">28749</span>))</a>
<a class="sourceLine" id="cb11-2" title="2"><span class="co">#&gt; Observations: 1</span></a>
<a class="sourceLine" id="cb11-3" title="3"><span class="co">#&gt; Variables: 18</span></a>
<a class="sourceLine" id="cb11-4" title="4"><span class="co">#&gt; $ id                  &lt;int&gt; 2629</span></a>
<a class="sourceLine" id="cb11-5" title="5"><span class="co">#&gt; $ original_name       &lt;chr&gt; "Acer negundo"</span></a>
<a class="sourceLine" id="cb11-6" title="6"><span class="co">#&gt; $ node_level          &lt;chr&gt; "taxon"</span></a>
<a class="sourceLine" id="cb11-7" title="7"><span class="co">#&gt; $ network_id          &lt;int&gt; 19</span></a>
<a class="sourceLine" id="cb11-8" title="8"><span class="co">#&gt; $ taxonomy_id         &lt;int&gt; 2</span></a>
<a class="sourceLine" id="cb11-9" title="9"><span class="co">#&gt; $ created_at          &lt;chr&gt; "2019-02-22T18:48:49.433Z"</span></a>
<a class="sourceLine" id="cb11-10" title="10"><span class="co">#&gt; $ updated_at          &lt;chr&gt; "2019-02-22T18:48:49.433Z"</span></a>
<a class="sourceLine" id="cb11-11" title="11"><span class="co">#&gt; $ taxonomy.id         &lt;int&gt; 2</span></a>
<a class="sourceLine" id="cb11-12" title="12"><span class="co">#&gt; $ taxonomy.name       &lt;chr&gt; "Acer negundo"</span></a>
<a class="sourceLine" id="cb11-13" title="13"><span class="co">#&gt; $ taxonomy.ncbi       &lt;int&gt; 4023</span></a>
<a class="sourceLine" id="cb11-14" title="14"><span class="co">#&gt; $ taxonomy.tsn        &lt;int&gt; 28749</span></a>
<a class="sourceLine" id="cb11-15" title="15"><span class="co">#&gt; $ taxonomy.eol        &lt;int&gt; 583069</span></a>
<a class="sourceLine" id="cb11-16" title="16"><span class="co">#&gt; $ taxonomy.bold       &lt;int&gt; 100987</span></a>
<a class="sourceLine" id="cb11-17" title="17"><span class="co">#&gt; $ taxonomy.gbif       &lt;int&gt; 3189866</span></a>
<a class="sourceLine" id="cb11-18" title="18"><span class="co">#&gt; $ taxonomy.col        &lt;chr&gt; "90203e29e2f59e5754167f89b9eba3cc"</span></a>
<a class="sourceLine" id="cb11-19" title="19"><span class="co">#&gt; $ taxonomy.rank       &lt;chr&gt; "species"</span></a>
<a class="sourceLine" id="cb11-20" title="20"><span class="co">#&gt; $ taxonomy.created_at &lt;chr&gt; "2019-02-21T21:17:12.585Z"</span></a>
<a class="sourceLine" id="cb11-21" title="21"><span class="co">#&gt; $ taxonomy.updated_at &lt;chr&gt; "2019-06-14T15:20:36.273Z"</span></a>
<a class="sourceLine" id="cb11-22" title="22"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(<span class="kw"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span>(<span class="dt">eol =</span> <span class="dv">583069</span>))</a>
<a class="sourceLine" id="cb11-23" title="23"><span class="co">#&gt; Observations: 1</span></a>
<a class="sourceLine" id="cb11-24" title="24"><span class="co">#&gt; Variables: 18</span></a>
<a class="sourceLine" id="cb11-25" title="25"><span class="co">#&gt; $ id                  &lt;int&gt; 2629</span></a>
<a class="sourceLine" id="cb11-26" title="26"><span class="co">#&gt; $ original_name       &lt;chr&gt; "Acer negundo"</span></a>
<a class="sourceLine" id="cb11-27" title="27"><span class="co">#&gt; $ node_level          &lt;chr&gt; "taxon"</span></a>
<a class="sourceLine" id="cb11-28" title="28"><span class="co">#&gt; $ network_id          &lt;int&gt; 19</span></a>
<a class="sourceLine" id="cb11-29" title="29"><span class="co">#&gt; $ taxonomy_id         &lt;int&gt; 2</span></a>
<a class="sourceLine" id="cb11-30" title="30"><span class="co">#&gt; $ created_at          &lt;chr&gt; "2019-02-22T18:48:49.433Z"</span></a>
<a class="sourceLine" id="cb11-31" title="31"><span class="co">#&gt; $ updated_at          &lt;chr&gt; "2019-02-22T18:48:49.433Z"</span></a>
<a class="sourceLine" id="cb11-32" title="32"><span class="co">#&gt; $ taxonomy.id         &lt;int&gt; 2</span></a>
<a class="sourceLine" id="cb11-33" title="33"><span class="co">#&gt; $ taxonomy.name       &lt;chr&gt; "Acer negundo"</span></a>
<a class="sourceLine" id="cb11-34" title="34"><span class="co">#&gt; $ taxonomy.ncbi       &lt;int&gt; 4023</span></a>
<a class="sourceLine" id="cb11-35" title="35"><span class="co">#&gt; $ taxonomy.tsn        &lt;int&gt; 28749</span></a>
<a class="sourceLine" id="cb11-36" title="36"><span class="co">#&gt; $ taxonomy.eol        &lt;int&gt; 583069</span></a>
<a class="sourceLine" id="cb11-37" title="37"><span class="co">#&gt; $ taxonomy.bold       &lt;int&gt; 100987</span></a>
<a class="sourceLine" id="cb11-38" title="38"><span class="co">#&gt; $ taxonomy.gbif       &lt;int&gt; 3189866</span></a>
<a class="sourceLine" id="cb11-39" title="39"><span class="co">#&gt; $ taxonomy.col        &lt;chr&gt; "90203e29e2f59e5754167f89b9eba3cc"</span></a>
<a class="sourceLine" id="cb11-40" title="40"><span class="co">#&gt; $ taxonomy.rank       &lt;chr&gt; "species"</span></a>
<a class="sourceLine" id="cb11-41" title="41"><span class="co">#&gt; $ taxonomy.created_at &lt;chr&gt; "2019-02-21T21:17:12.585Z"</span></a>
<a class="sourceLine" id="cb11-42" title="42"><span class="co">#&gt; $ taxonomy.updated_at &lt;chr&gt; "2019-06-14T15:20:36.273Z"</span></a></code></pre></div>
<p>Note that in some case, one may need to find a dataset based on the original name included in the publication, in such case, <code><a href="../reference/search_nodes.html">search_nodes()</a></code> must be used:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" title="1">sr_ficus2 &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_nodes.html">search_nodes</a></span>(<span class="st">"Ficus"</span>)</a></code></pre></div>
</div>
</div>
<div id="get-networks-associated-with-a-search_-object" class="section level2">
<h2 class="hasAnchor">
<a href="#get-networks-associated-with-a-search_-object" class="anchor"></a>Get networks associated with a <code>search_*</code> object</h2>
<p>Once the search performed, ecological networks are accessible from the object returned with <code><a href="../reference/get_collection.html">get_collection()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" title="1">nets_lagoons &lt;-<span class="st"> </span>lagoon <span class="op">%&gt;%</span><span class="st"> </span>get_collection</a>
<a class="sourceLine" id="cb13-2" title="2">nets_in_CA &lt;-<span class="st"> </span>in_CA <span class="op">%&gt;%</span><span class="st"> </span>get_collection</a>
<a class="sourceLine" id="cb13-3" title="3">nets_competition &lt;-<span class="st"> </span>comp_interac <span class="op">%&gt;%</span><span class="st"> </span>get_collection</a></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" title="1">nets_lagoons</a>
<a class="sourceLine" id="cb14-2" title="2"><span class="co">#&gt; A collection of 3 networks</span></a>
<a class="sourceLine" id="cb14-3" title="3"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-4" title="4"><span class="co">#&gt; * Network #86 included in dataset #22</span></a>
<a class="sourceLine" id="cb14-5" title="5"><span class="co">#&gt; * Description: Dietary matrix of the Huizache–Caimanero lagoon</span></a>
<a class="sourceLine" id="cb14-6" title="6"><span class="co">#&gt; * Includes 189 edges and 26 nodes </span></a>
<a class="sourceLine" id="cb14-7" title="7"><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></a>
<a class="sourceLine" id="cb14-8" title="8"><span class="co">#&gt;   --&gt; ITIS: 81%, BOLD: 81%, EOL: 85%, COL: 81%, GBIF: 0%, NCBI: 85%</span></a>
<a class="sourceLine" id="cb14-9" title="9"><span class="co">#&gt; * Published in ref # DOI:10.1016/s0272-7714(02)00410-9</span></a>
<a class="sourceLine" id="cb14-10" title="10"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-11" title="11"><span class="co">#&gt; * Network #927 included in dataset #52</span></a>
<a class="sourceLine" id="cb14-12" title="12"><span class="co">#&gt; * Description: Food web of the Brackish lagoon</span></a>
<a class="sourceLine" id="cb14-13" title="13"><span class="co">#&gt; * Includes 27 edges and 11 nodes </span></a>
<a class="sourceLine" id="cb14-14" title="14"><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></a>
<a class="sourceLine" id="cb14-15" title="15"><span class="co">#&gt;   --&gt; ITIS: 45%, BOLD: 45%, EOL: 45%, COL: 45%, GBIF: 18%, NCBI: 45%</span></a>
<a class="sourceLine" id="cb14-16" title="16"><span class="co">#&gt; * Published in ref # DOI:NA</span></a>
<a class="sourceLine" id="cb14-17" title="17"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb14-18" title="18"><span class="co">#&gt; * Network #926 included in dataset #52</span></a>
<a class="sourceLine" id="cb14-19" title="19"><span class="co">#&gt; * Description: Food web of the Costal lagoon</span></a>
<a class="sourceLine" id="cb14-20" title="20"><span class="co">#&gt; * Includes 34 edges and 13 nodes </span></a>
<a class="sourceLine" id="cb14-21" title="21"><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></a>
<a class="sourceLine" id="cb14-22" title="22"><span class="co">#&gt;   --&gt; ITIS: 54%, BOLD: 54%, EOL: 54%, COL: 54%, GBIF: 15%, NCBI: 54%</span></a>
<a class="sourceLine" id="cb14-23" title="23"><span class="co">#&gt; * Published in ref # DOI:NA</span></a>
<a class="sourceLine" id="cb14-24" title="24"><span class="kw"><a href="https://rdrr.io/r/base/class.html">class</a></span>(nets_lagoons)</a>
<a class="sourceLine" id="cb14-25" title="25"><span class="co">#&gt; [1] "mgNetworksCollection"</span></a></code></pre></div>
<p>Note that <code>mgNetworksCollection</code> objects are lists of <code>mgNetwork</code> object which are a list of five datasets reflecting the 5 tables presented in the diagram in the first section:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/names.html">names</a></span>(nets_lagoons[[<span class="dv">1</span>]])</a>
<a class="sourceLine" id="cb15-2" title="2"><span class="co">#&gt; [1] "network"      "nodes"        "interactions" "dataset"     </span></a>
<a class="sourceLine" id="cb15-3" title="3"><span class="co">#&gt; [5] "reference"</span></a>
<a class="sourceLine" id="cb15-4" title="4"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(nets_lagoons[[<span class="dv">1</span>]]<span class="op">$</span>network)</a>
<a class="sourceLine" id="cb15-5" title="5"><span class="co">#&gt; Observations: 1</span></a>
<a class="sourceLine" id="cb15-6" title="6"><span class="co">#&gt; Variables: 13</span></a>
<a class="sourceLine" id="cb15-7" title="7"><span class="co">#&gt; $ network_id       &lt;int&gt; 86</span></a>
<a class="sourceLine" id="cb15-8" title="8"><span class="co">#&gt; $ name             &lt;chr&gt; "zetina_2003_20030101_86"</span></a>
<a class="sourceLine" id="cb15-9" title="9"><span class="co">#&gt; $ date             &lt;chr&gt; "2003-01-01T00:00:00.000Z"</span></a>
<a class="sourceLine" id="cb15-10" title="10"><span class="co">#&gt; $ description      &lt;chr&gt; "Dietary matrix of the Huizache–Caimanero lagoo…</span></a>
<a class="sourceLine" id="cb15-11" title="11"><span class="co">#&gt; $ public           &lt;lgl&gt; TRUE</span></a>
<a class="sourceLine" id="cb15-12" title="12"><span class="co">#&gt; $ all_interactions &lt;lgl&gt; FALSE</span></a>
<a class="sourceLine" id="cb15-13" title="13"><span class="co">#&gt; $ created_at       &lt;chr&gt; "2019-02-23T17:04:34.046Z"</span></a>
<a class="sourceLine" id="cb15-14" title="14"><span class="co">#&gt; $ updated_at       &lt;chr&gt; "2019-02-23T17:04:34.046Z"</span></a>
<a class="sourceLine" id="cb15-15" title="15"><span class="co">#&gt; $ dataset_id       &lt;int&gt; 22</span></a>
<a class="sourceLine" id="cb15-16" title="16"><span class="co">#&gt; $ user_id          &lt;int&gt; 3</span></a>
<a class="sourceLine" id="cb15-17" title="17"><span class="co">#&gt; $ geom_type        &lt;chr&gt; "Point"</span></a>
<a class="sourceLine" id="cb15-18" title="18"><span class="co">#&gt; $ geom_lon         &lt;list&gt; [-106.1099]</span></a>
<a class="sourceLine" id="cb15-19" title="19"><span class="co">#&gt; $ geom_lat         &lt;list&gt; [22.98531]</span></a>
<a class="sourceLine" id="cb15-20" title="20"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(nets_lagoons[[<span class="dv">1</span>]]<span class="op">$</span>nodes)</a>
<a class="sourceLine" id="cb15-21" title="21"><span class="co">#&gt; Observations: 26</span></a>
<a class="sourceLine" id="cb15-22" title="22"><span class="co">#&gt; Variables: 19</span></a>
<a class="sourceLine" id="cb15-23" title="23"><span class="co">#&gt; $ node_id             &lt;int&gt; 4904, 4905, 4906, 4907, 4908, 4909, 4910, 49…</span></a>
<a class="sourceLine" id="cb15-24" title="24"><span class="co">#&gt; $ original_name       &lt;chr&gt; "Scianids", "Elopids", "Lutjanids", "Carangi…</span></a>
<a class="sourceLine" id="cb15-25" title="25"><span class="co">#&gt; $ node_level          &lt;chr&gt; "taxon", "taxon", "taxon", "taxon", "taxon",…</span></a>
<a class="sourceLine" id="cb15-26" title="26"><span class="co">#&gt; $ network_id          &lt;int&gt; 86, 86, 86, 86, 86, 86, 86, 86, 86, 86, 86, …</span></a>
<a class="sourceLine" id="cb15-27" title="27"><span class="co">#&gt; $ taxonomy_id         &lt;int&gt; 4363, 4364, 4365, 4366, 4367, 4368, 4369, 43…</span></a>
<a class="sourceLine" id="cb15-28" title="28"><span class="co">#&gt; $ created_at          &lt;chr&gt; "2019-02-23T17:04:42.505Z", "2019-02-23T17:0…</span></a>
<a class="sourceLine" id="cb15-29" title="29"><span class="co">#&gt; $ updated_at          &lt;chr&gt; "2019-02-23T17:04:42.505Z", "2019-02-23T17:0…</span></a>
<a class="sourceLine" id="cb15-30" title="30"><span class="co">#&gt; $ taxonomy.id         &lt;int&gt; 4363, 4364, 4365, 4366, 4367, 4368, 4369, 43…</span></a>
<a class="sourceLine" id="cb15-31" title="31"><span class="co">#&gt; $ taxonomy.name       &lt;chr&gt; "Sciaenidae", "Elops", "Lutjanidae", "Carang…</span></a>
<a class="sourceLine" id="cb15-32" title="32"><span class="co">#&gt; $ taxonomy.ncbi       &lt;int&gt; 30870, 7927, 30850, 8157, 8184, 31017, 30840…</span></a>
<a class="sourceLine" id="cb15-33" title="33"><span class="co">#&gt; $ taxonomy.tsn        &lt;int&gt; 169237, 28630, 168845, 168584, 167642, 43998…</span></a>
<a class="sourceLine" id="cb15-34" title="34"><span class="co">#&gt; $ taxonomy.eol        &lt;int&gt; 5211, 46561210, 5294, 5361, 5355, 5115, 5317…</span></a>
<a class="sourceLine" id="cb15-35" title="35"><span class="co">#&gt; $ taxonomy.bold       &lt;int&gt; 1856, 4061, 1858, 1851, 586, 1313, 1855, 112…</span></a>
<a class="sourceLine" id="cb15-36" title="36"><span class="co">#&gt; $ taxonomy.gbif       &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></a>
<a class="sourceLine" id="cb15-37" title="37"><span class="co">#&gt; $ taxonomy.col        &lt;chr&gt; "81a86c329909d507edb5c296906ef3f4", "94532a1…</span></a>
<a class="sourceLine" id="cb15-38" title="38"><span class="co">#&gt; $ taxonomy.rank       &lt;chr&gt; "family", "genus", "family", "family", "fami…</span></a>
<a class="sourceLine" id="cb15-39" title="39"><span class="co">#&gt; $ taxonomy.created_at &lt;chr&gt; "2019-02-23T17:04:35.620Z", "2019-02-23T17:0…</span></a>
<a class="sourceLine" id="cb15-40" title="40"><span class="co">#&gt; $ taxonomy.updated_at &lt;chr&gt; "2019-06-14T15:25:46.438Z", "2019-06-14T15:2…</span></a>
<a class="sourceLine" id="cb15-41" title="41"><span class="co">#&gt; $ taxonomy            &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></a>
<a class="sourceLine" id="cb15-42" title="42"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(nets_lagoons[[<span class="dv">1</span>]]<span class="op">$</span>edges)</a>
<a class="sourceLine" id="cb15-43" title="43"><span class="co">#&gt;  NULL</span></a>
<a class="sourceLine" id="cb15-44" title="44"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(nets_lagoons[[<span class="dv">1</span>]]<span class="op">$</span>dataset)</a>
<a class="sourceLine" id="cb15-45" title="45"><span class="co">#&gt; Observations: 1</span></a>
<a class="sourceLine" id="cb15-46" title="46"><span class="co">#&gt; Variables: 8</span></a>
<a class="sourceLine" id="cb15-47" title="47"><span class="co">#&gt; $ dataset_id  &lt;int&gt; 22</span></a>
<a class="sourceLine" id="cb15-48" title="48"><span class="co">#&gt; $ name        &lt;chr&gt; "zetina_2003"</span></a>
<a class="sourceLine" id="cb15-49" title="49"><span class="co">#&gt; $ description &lt;chr&gt; "Dietary matrix of the Huizache–Caimanero lagoon"</span></a>
<a class="sourceLine" id="cb15-50" title="50"><span class="co">#&gt; $ public      &lt;lgl&gt; TRUE</span></a>
<a class="sourceLine" id="cb15-51" title="51"><span class="co">#&gt; $ created_at  &lt;chr&gt; "2019-02-23T17:04:32.017Z"</span></a>
<a class="sourceLine" id="cb15-52" title="52"><span class="co">#&gt; $ updated_at  &lt;chr&gt; "2019-02-23T17:04:32.017Z"</span></a>
<a class="sourceLine" id="cb15-53" title="53"><span class="co">#&gt; $ ref_id      &lt;int&gt; 22</span></a>
<a class="sourceLine" id="cb15-54" title="54"><span class="co">#&gt; $ user_id     &lt;int&gt; 3</span></a>
<a class="sourceLine" id="cb15-55" title="55"><span class="kw"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span>(nets_lagoons[[<span class="dv">1</span>]]<span class="op">$</span>reference)</a>
<a class="sourceLine" id="cb15-56" title="56"><span class="co">#&gt; Observations: 1</span></a>
<a class="sourceLine" id="cb15-57" title="57"><span class="co">#&gt; Variables: 11</span></a>
<a class="sourceLine" id="cb15-58" title="58"><span class="co">#&gt; $ ref_id       &lt;int&gt; 22</span></a>
<a class="sourceLine" id="cb15-59" title="59"><span class="co">#&gt; $ doi          &lt;chr&gt; "10.1016/s0272-7714(02)00410-9"</span></a>
<a class="sourceLine" id="cb15-60" title="60"><span class="co">#&gt; $ first_author &lt;chr&gt; "manuel j. zetina-rejon"</span></a>
<a class="sourceLine" id="cb15-61" title="61"><span class="co">#&gt; $ year         &lt;chr&gt; "2003"</span></a>
<a class="sourceLine" id="cb15-62" title="62"><span class="co">#&gt; $ jstor        &lt;lgl&gt; NA</span></a>
<a class="sourceLine" id="cb15-63" title="63"><span class="co">#&gt; $ pmid         &lt;lgl&gt; NA</span></a>
<a class="sourceLine" id="cb15-64" title="64"><span class="co">#&gt; $ bibtex       &lt;chr&gt; "@article{Zetina_Rej_n_2003, doi = {10.1016/s0272-7…</span></a>
<a class="sourceLine" id="cb15-65" title="65"><span class="co">#&gt; $ paper_url    &lt;chr&gt; "https://doi.org/10.1016%2Fs0272-7714%2802%2900410-…</span></a>
<a class="sourceLine" id="cb15-66" title="66"><span class="co">#&gt; $ data_url     &lt;chr&gt; "https://globalwebdb.com/"</span></a>
<a class="sourceLine" id="cb15-67" title="67"><span class="co">#&gt; $ created_at   &lt;chr&gt; "2019-02-23T17:04:28.307Z"</span></a>
<a class="sourceLine" id="cb15-68" title="68"><span class="co">#&gt; $ updated_at   &lt;chr&gt; "2019-02-23T17:04:28.307Z"</span></a></code></pre></div>
</div>
</div>
<div id="integrated-workflow-with-rmangal" class="section level1">
<h1 class="hasAnchor">
<a href="#integrated-workflow-with-rmangal" class="anchor"></a>Integrated workflow with <strong>rmangal</strong>
</h1>
<div id="batch-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#batch-analysis" class="anchor"></a>Batch analysis</h2>
<p>So far, the search functions of <strong>rmangal</strong> allow the user to perform only a single search at a time. The simplest way to do more than one search is to loop over a vector or a list of queries. Below we exemplify how to do so using <code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code>:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" title="1">tsn &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="dv">837855</span>, <span class="dv">169237</span>)</a>
<a class="sourceLine" id="cb16-2" title="2">mgn &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(tsn, <span class="cf">function</span>(x) <span class="kw"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span>(<span class="dt">tsn =</span> x)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-3" title="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(get_collection) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-4" title="4"><span class="st">  </span>combine_mgNetworks</a>
<a class="sourceLine" id="cb16-5" title="5">mgn</a>
<a class="sourceLine" id="cb16-6" title="6"><span class="co">#&gt; A collection of 3 networks</span></a>
<a class="sourceLine" id="cb16-7" title="7"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-8" title="8"><span class="co">#&gt; * Network #948 included in dataset #66</span></a>
<a class="sourceLine" id="cb16-9" title="9"><span class="co">#&gt; * Description: Flower and anthophilous insect interactions in the primary cool-temperate subalpine forests and meadows at Mt. Kushigata, Yamanashi Prefecture, Japan</span></a>
<a class="sourceLine" id="cb16-10" title="10"><span class="co">#&gt; * Includes 871 edges and 456 nodes </span></a>
<a class="sourceLine" id="cb16-11" title="11"><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></a>
<a class="sourceLine" id="cb16-12" title="12"><span class="co">#&gt;   --&gt; ITIS: 20%, BOLD: 33%, EOL: 46%, COL: 43%, GBIF: 35%, NCBI: 38%</span></a>
<a class="sourceLine" id="cb16-13" title="13"><span class="co">#&gt; * Published in ref # DOI:NA</span></a>
<a class="sourceLine" id="cb16-14" title="14"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-15" title="15"><span class="co">#&gt; * Network #86 included in dataset #22</span></a>
<a class="sourceLine" id="cb16-16" title="16"><span class="co">#&gt; * Description: Dietary matrix of the Huizache–Caimanero lagoon</span></a>
<a class="sourceLine" id="cb16-17" title="17"><span class="co">#&gt; * Includes 189 edges and 26 nodes </span></a>
<a class="sourceLine" id="cb16-18" title="18"><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></a>
<a class="sourceLine" id="cb16-19" title="19"><span class="co">#&gt;   --&gt; ITIS: 81%, BOLD: 81%, EOL: 85%, COL: 81%, GBIF: 0%, NCBI: 85%</span></a>
<a class="sourceLine" id="cb16-20" title="20"><span class="co">#&gt; * Published in ref # DOI:10.1016/s0272-7714(02)00410-9</span></a>
<a class="sourceLine" id="cb16-21" title="21"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb16-22" title="22"><span class="co">#&gt; * Network #1101 included in dataset #77</span></a>
<a class="sourceLine" id="cb16-23" title="23"><span class="co">#&gt; * Description: Food web of the Angolan fishery landings</span></a>
<a class="sourceLine" id="cb16-24" title="24"><span class="co">#&gt; * Includes 127 edges and 28 nodes </span></a>
<a class="sourceLine" id="cb16-25" title="25"><span class="co">#&gt; * Current taxonomic IDs coverage for nodes of this network: </span></a>
<a class="sourceLine" id="cb16-26" title="26"><span class="co">#&gt;   --&gt; ITIS: 61%, BOLD: 50%, EOL: 61%, COL: 54%, GBIF: 4%, NCBI: 57%</span></a>
<a class="sourceLine" id="cb16-27" title="27"><span class="co">#&gt; * Published in ref # DOI:10.3989/scimar.2011.75n2309</span></a></code></pre></div>
</div>
<div id="geolocalize-mangal-networks-with-sf" class="section level2">
<h2 class="hasAnchor">
<a href="#geolocalize-mangal-networks-with-sf" class="anchor"></a>Geolocalize Mangal networks with <code>sf</code>
</h2>
<p>The function <code><a href="../reference/get_collection.html">get_collection()</a></code> has an argument <code>as_sf</code> than converts network metadata of mgNetwork objects to <code>sf</code> objects, which requires <a href="https://cran.r-project.org/package=sf"><code>sf</code></a> to be installed. This allows the user to easily geolocalize the networks retrieved from Mangal.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" title="1"><span class="co"># assuming sf and mapview are is loaded (as we did above)</span></a>
<a class="sourceLine" id="cb17-2" title="2">mg_lag_sf &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_datasets.html">search_datasets</a></span>(<span class="dt">query =</span> <span class="st">'lagoon'</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="../reference/get_collection.html">get_collection</a></span>(<span class="dt">as_sf =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb17-3" title="3"><span class="kw"><a href="https://rdrr.io/r/base/class.html">class</a></span>(mg_lag_sf[[<span class="dv">1</span>]]<span class="op">$</span>network)</a>
<a class="sourceLine" id="cb17-4" title="4"><span class="co">#&gt; [1] "sf"         "data.frame"</span></a>
<a class="sourceLine" id="cb17-5" title="5"><span class="co"># let's combine all these sf object into a single one</span></a>
<a class="sourceLine" id="cb17-6" title="6"><span class="kw"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapView</a></span>(mg_lag_sf[[<span class="dv">1</span>]]<span class="op">$</span>network) <span class="op">+</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/mapview/man/mapView.html">mapView</a></span>(mg_lag_sf[[<span class="dv">2</span>]]<span class="op">$</span>network)</a></code></pre></div>
<div id="htmlwidget-6490657407e1d13e3af3" style="width:700px;height:432.632880098888px;" class="leaflet html-widget"></div>
<script type="application/json" data-for="htmlwidget-6490657407e1d13e3af3">{"x":{"options":{"minZoom":1,"maxZoom":100,"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"preferCanvas":false,"bounceAtZoomLimits":false,"maxBounds":[[[-90,-370]],[[90,370]]]},"calls":[{"method":"addProviderTiles","args":["CartoDB.Positron",1,"CartoDB.Positron",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["CartoDB.DarkMatter",2,"CartoDB.DarkMatter",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenStreetMap",3,"OpenStreetMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["Esri.WorldImagery",4,"Esri.WorldImagery",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"addProviderTiles","args":["OpenTopoMap",5,"OpenTopoMap",{"errorTileUrl":"","noWrap":false,"detectRetina":false}]},{"method":"createMapPane","args":["point",440]},{"method":"addCircleMarkers","args":[22.985307,-106.10993,6,null,"mg_lag_sf[[1]]$network",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":2,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,"<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>network_id&emsp;<\/b><\/td><td align='right'>86&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>zetina_2003_20030101_86&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>2003-01-01T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Dietary matrix of the Huizache–Caimanero lagoon&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-02-23T17:04:34.046Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-02-23T17:04:34.046Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>22&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>3&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addScaleBar","args":[{"maxWidth":100,"metric":true,"imperial":true,"updateWhenIdle":true,"position":"bottomleft"}]},{"method":"addHomeButton","args":[-106.10993,22.985307,-106.10993,22.985307,"Zoom to mg_lag_sf[[1]]$network","<strong> mg_lag_sf[[1]]$network <\/strong>","bottomright"]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["mg_lag_sf[[1]]$network"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"mg_lag_sf[[1]]$network","extra":null,"layerId":null,"className":"info legend","group":"mg_lag_sf[[1]]$network"}]},{"method":"addCircleMarkers","args":[17.069151,-100.365564,6,null,"mg_lag_sf[[2]]$network",{"crs":{"crsClass":"L.CRS.EPSG3857","code":null,"proj4def":null,"projectedBounds":null,"options":{}},"pane":"point","stroke":true,"color":"#333333","weight":2,"opacity":0.9,"fill":true,"fillColor":"#6666FF","fillOpacity":0.6},null,null,"<html><head><link rel=\"stylesheet\" type=\"text/css\" href=\"lib/popup/popup.css\"><\/head><body><div class=\"scrollableContainer\"><table class=\"popup scrollable\" id=\"popup\"><tr class='coord'><td><\/td><td><b>Feature ID<\/b><\/td><td align='right'>1&emsp;<\/td><\/tr><tr class='alt'><td>1<\/td><td><b>network_id&emsp;<\/b><\/td><td align='right'>927&emsp;<\/td><\/tr><tr><td>2<\/td><td><b>name&emsp;<\/b><\/td><td align='right'>yanez_1978_19730901_927&emsp;<\/td><\/tr><tr class='alt'><td>3<\/td><td><b>date&emsp;<\/b><\/td><td align='right'>1973-09-01T00:00:00.000Z&emsp;<\/td><\/tr><tr><td>4<\/td><td><b>description&emsp;<\/b><\/td><td align='right'>Food web of the Brackish lagoon&emsp;<\/td><\/tr><tr class='alt'><td>5<\/td><td><b>public&emsp;<\/b><\/td><td align='right'>TRUE&emsp;<\/td><\/tr><tr><td>6<\/td><td><b>all_interactions&emsp;<\/b><\/td><td align='right'>FALSE&emsp;<\/td><\/tr><tr class='alt'><td>7<\/td><td><b>created_at&emsp;<\/b><\/td><td align='right'>2019-02-25T15:09:11.020Z&emsp;<\/td><\/tr><tr><td>8<\/td><td><b>updated_at&emsp;<\/b><\/td><td align='right'>2019-02-25T15:09:11.020Z&emsp;<\/td><\/tr><tr class='alt'><td>9<\/td><td><b>dataset_id&emsp;<\/b><\/td><td align='right'>52&emsp;<\/td><\/tr><tr><td>10<\/td><td><b>user_id&emsp;<\/b><\/td><td align='right'>3&emsp;<\/td><\/tr><tr class='alt'><td>11<\/td><td><b>geom&emsp;<\/b><\/td><td align='right'>sfc_POINT&emsp;<\/td><\/tr><\/table><\/div><\/body><\/html>",{"maxWidth":800,"minWidth":50,"autoPan":true,"keepInView":false,"closeButton":true,"closeOnClick":true,"className":""},"1",{"interactive":false,"permanent":false,"direction":"auto","opacity":1,"offset":[0,0],"textsize":"10px","textOnly":false,"className":"","sticky":true},null]},{"method":"addHomeButton","args":[-100.365564,17.069151,-100.365564,17.069151,"Zoom to mg_lag_sf[[2]]$network","<strong> mg_lag_sf[[2]]$network <\/strong>","bottomright"]},{"method":"addLayersControl","args":[["CartoDB.Positron","CartoDB.DarkMatter","OpenStreetMap","Esri.WorldImagery","OpenTopoMap"],["mg_lag_sf[[1]]$network","mg_lag_sf[[2]]$network"],{"collapsed":true,"autoZIndex":true,"position":"topleft"}]},{"method":"addLegend","args":[{"colors":["#6666FF"],"labels":["mg_lag_sf[[2]]$network"],"na_color":null,"na_label":"NA","opacity":1,"position":"topright","type":"factor","title":"mg_lag_sf[[2]]$network","extra":null,"layerId":null,"className":"info legend","group":"mg_lag_sf[[2]]$network"}]},{"method":"addHomeButton","args":[-106.10993,17.069151,-100.365564,22.985307,"Zoom to full extent","<strong>Zoom full<\/strong>","bottomleft"]}],"limits":{"lat":[22.985307,22.985307],"lng":[-106.10993,-106.10993]},"fitBounds":[17.069151,-106.10993,22.985307,-100.365564,[]]},"evals":[],"jsHooks":{"render":[{"code":"function(el, x, data) {\n  return (\n      function(el, x, data) {\n      // get the leaflet map\n      var map = this; //HTMLWidgets.find('#' + el.id);\n      // we need a new div element because we have to handle\n      // the mouseover output separately\n      // debugger;\n      function addElement () {\n      // generate new div Element\n      var newDiv = $(document.createElement('div'));\n      // append at end of leaflet htmlwidget container\n      $(el).append(newDiv);\n      //provide ID and style\n      newDiv.addClass('lnlt');\n      newDiv.css({\n      'position': 'relative',\n      'bottomleft':  '0px',\n      'background-color': 'rgba(255, 255, 255, 0.7)',\n      'box-shadow': '0 0 2px #bbb',\n      'background-clip': 'padding-box',\n      'margin': '0',\n      'padding-left': '5px',\n      'color': '#333',\n      'font': '9px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif',\n      'z-index': '700',\n      });\n      return newDiv;\n      }\n\n\n      // check for already existing lnlt class to not duplicate\n      var lnlt = $(el).find('.lnlt');\n\n      if(!lnlt.length) {\n      lnlt = addElement();\n\n      // grab the special div we generated in the beginning\n      // and put the mousmove output there\n\n      map.on('mousemove', function (e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                           ' lon: ' + (e.latlng.lng).toFixed(5) +\n                           ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                           ' | zoom: ' + map.getZoom() +\n                           ' | x: ' + L.CRS.EPSG3857.project(e.latlng).x.toFixed(0) +\n                           ' | y: ' + L.CRS.EPSG3857.project(e.latlng).y.toFixed(0) +\n                           ' | epsg: 3857 ' +\n                           ' | proj4: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs ');\n      } else {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      }\n      });\n\n      // remove the lnlt div when mouse leaves map\n      map.on('mouseout', function (e) {\n      var strip = document.querySelector('.lnlt');\n      strip.remove();\n      });\n\n      };\n\n      //$(el).keypress(67, function(e) {\n      map.on('preclick', function(e) {\n      if (e.originalEvent.ctrlKey) {\n      if (document.querySelector('.lnlt') === null) lnlt = addElement();\n      lnlt.text(\n                      ' lon: ' + (e.latlng.lng).toFixed(5) +\n                      ' | lat: ' + (e.latlng.lat).toFixed(5) +\n                      ' | zoom: ' + map.getZoom() + ' ');\n      var txt = document.querySelector('.lnlt').textContent;\n      console.log(txt);\n      //txt.innerText.focus();\n      //txt.select();\n      setClipboardText('\"' + txt + '\"');\n      }\n      });\n\n      //map.on('click', function (e) {\n      //  var txt = document.querySelector('.lnlt').textContent;\n      //  console.log(txt);\n      //  //txt.innerText.focus();\n      //  //txt.select();\n      //  setClipboardText(txt);\n      //});\n\n      function setClipboardText(text){\n      var id = 'mycustom-clipboard-textarea-hidden-id';\n      var existsTextarea = document.getElementById(id);\n\n      if(!existsTextarea){\n      console.log('Creating textarea');\n      var textarea = document.createElement('textarea');\n      textarea.id = id;\n      // Place in top-left corner of screen regardless of scroll position.\n      textarea.style.position = 'fixed';\n      textarea.style.top = 0;\n      textarea.style.left = 0;\n\n      // Ensure it has a small width and height. Setting to 1px / 1em\n      // doesn't work as this gives a negative w/h on some browsers.\n      textarea.style.width = '1px';\n      textarea.style.height = '1px';\n\n      // We don't need padding, reducing the size if it does flash render.\n      textarea.style.padding = 0;\n\n      // Clean up any borders.\n      textarea.style.border = 'none';\n      textarea.style.outline = 'none';\n      textarea.style.boxShadow = 'none';\n\n      // Avoid flash of white box if rendered for any reason.\n      textarea.style.background = 'transparent';\n      document.querySelector('body').appendChild(textarea);\n      console.log('The textarea now exists :)');\n      existsTextarea = document.getElementById(id);\n      }else{\n      console.log('The textarea already exists :3')\n      }\n\n      existsTextarea.value = text;\n      existsTextarea.select();\n\n      try {\n      var status = document.execCommand('copy');\n      if(!status){\n      console.error('Cannot copy text');\n      }else{\n      console.log('The text is now on the clipboard');\n      }\n      } catch (err) {\n      console.log('Unable to copy.');\n      }\n      }\n\n\n      }\n      ).call(this.getMap(), el, x, data);\n}","data":null}]}}</script>
</div>
<div id="taxonomic-analysis-with-taxize" class="section level2">
<h2 class="hasAnchor">
<a href="#taxonomic-analysis-with-taxize" class="anchor"></a>Taxonomic analysis with <code>taxize</code>
</h2>
<p>As Mangal includes taxonomic identifiers, <strong>rmangal</strong> can readily be combined with <code>taxize</code> (see <a href="https://github.com/ropensci/taxize">taxize</a> for more details about this package):</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(taxize)</a>
<a class="sourceLine" id="cb18-2" title="2">tsn_acer &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_taxonomy.html">search_taxonomy</a></span>(<span class="st">"Acer"</span>)<span class="op">$</span>taxonomy.tsn</a>
<a class="sourceLine" id="cb18-3" title="3"><span class="kw"><a href="https://docs.ropensci.org/taxize/reference/classification.html">classification</a></span>(tsn_acer, <span class="dt">db =</span> <span class="st">"itis"</span>)</a>
<a class="sourceLine" id="cb18-4" title="4"><span class="co">#&gt; $`28749`</span></a>
<a class="sourceLine" id="cb18-5" title="5"><span class="co">#&gt;               name          rank     id</span></a>
<a class="sourceLine" id="cb18-6" title="6"><span class="co">#&gt; 1          Plantae       kingdom 202422</span></a>
<a class="sourceLine" id="cb18-7" title="7"><span class="co">#&gt; 2    Viridiplantae    subkingdom 954898</span></a>
<a class="sourceLine" id="cb18-8" title="8"><span class="co">#&gt; 3     Streptophyta  infrakingdom 846494</span></a>
<a class="sourceLine" id="cb18-9" title="9"><span class="co">#&gt; 4      Embryophyta superdivision 954900</span></a>
<a class="sourceLine" id="cb18-10" title="10"><span class="co">#&gt; 5     Tracheophyta      division 846496</span></a>
<a class="sourceLine" id="cb18-11" title="11"><span class="co">#&gt; 6  Spermatophytina   subdivision 846504</span></a>
<a class="sourceLine" id="cb18-12" title="12"><span class="co">#&gt; 7    Magnoliopsida         class  18063</span></a>
<a class="sourceLine" id="cb18-13" title="13"><span class="co">#&gt; 8          Rosanae    superorder 846548</span></a>
<a class="sourceLine" id="cb18-14" title="14"><span class="co">#&gt; 9       Sapindales         order  28643</span></a>
<a class="sourceLine" id="cb18-15" title="15"><span class="co">#&gt; 10     Sapindaceae        family  28657</span></a>
<a class="sourceLine" id="cb18-16" title="16"><span class="co">#&gt; 11            Acer         genus  28727</span></a>
<a class="sourceLine" id="cb18-17" title="17"><span class="co">#&gt; 12    Acer negundo       species  28749</span></a>
<a class="sourceLine" id="cb18-18" title="18"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-19" title="19"><span class="co">#&gt; $`28757`</span></a>
<a class="sourceLine" id="cb18-20" title="20"><span class="co">#&gt;                name          rank     id</span></a>
<a class="sourceLine" id="cb18-21" title="21"><span class="co">#&gt; 1           Plantae       kingdom 202422</span></a>
<a class="sourceLine" id="cb18-22" title="22"><span class="co">#&gt; 2     Viridiplantae    subkingdom 954898</span></a>
<a class="sourceLine" id="cb18-23" title="23"><span class="co">#&gt; 3      Streptophyta  infrakingdom 846494</span></a>
<a class="sourceLine" id="cb18-24" title="24"><span class="co">#&gt; 4       Embryophyta superdivision 954900</span></a>
<a class="sourceLine" id="cb18-25" title="25"><span class="co">#&gt; 5      Tracheophyta      division 846496</span></a>
<a class="sourceLine" id="cb18-26" title="26"><span class="co">#&gt; 6   Spermatophytina   subdivision 846504</span></a>
<a class="sourceLine" id="cb18-27" title="27"><span class="co">#&gt; 7     Magnoliopsida         class  18063</span></a>
<a class="sourceLine" id="cb18-28" title="28"><span class="co">#&gt; 8           Rosanae    superorder 846548</span></a>
<a class="sourceLine" id="cb18-29" title="29"><span class="co">#&gt; 9        Sapindales         order  28643</span></a>
<a class="sourceLine" id="cb18-30" title="30"><span class="co">#&gt; 10      Sapindaceae        family  28657</span></a>
<a class="sourceLine" id="cb18-31" title="31"><span class="co">#&gt; 11             Acer         genus  28727</span></a>
<a class="sourceLine" id="cb18-32" title="32"><span class="co">#&gt; 12 Acer saccharinum       species  28757</span></a>
<a class="sourceLine" id="cb18-33" title="33"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-34" title="34"><span class="co">#&gt; $&lt;NA&gt;</span></a>
<a class="sourceLine" id="cb18-35" title="35"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb18-36" title="36"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-37" title="37"><span class="co">#&gt; $&lt;NA&gt;</span></a>
<a class="sourceLine" id="cb18-38" title="38"><span class="co">#&gt; [1] NA</span></a>
<a class="sourceLine" id="cb18-39" title="39"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-40" title="40"><span class="co">#&gt; $`837855`</span></a>
<a class="sourceLine" id="cb18-41" title="41"><span class="co">#&gt;               name          rank     id</span></a>
<a class="sourceLine" id="cb18-42" title="42"><span class="co">#&gt; 1          Plantae       kingdom 202422</span></a>
<a class="sourceLine" id="cb18-43" title="43"><span class="co">#&gt; 2    Viridiplantae    subkingdom 954898</span></a>
<a class="sourceLine" id="cb18-44" title="44"><span class="co">#&gt; 3     Streptophyta  infrakingdom 846494</span></a>
<a class="sourceLine" id="cb18-45" title="45"><span class="co">#&gt; 4      Embryophyta superdivision 954900</span></a>
<a class="sourceLine" id="cb18-46" title="46"><span class="co">#&gt; 5     Tracheophyta      division 846496</span></a>
<a class="sourceLine" id="cb18-47" title="47"><span class="co">#&gt; 6  Spermatophytina   subdivision 846504</span></a>
<a class="sourceLine" id="cb18-48" title="48"><span class="co">#&gt; 7    Magnoliopsida         class  18063</span></a>
<a class="sourceLine" id="cb18-49" title="49"><span class="co">#&gt; 8          Rosanae    superorder 846548</span></a>
<a class="sourceLine" id="cb18-50" title="50"><span class="co">#&gt; 9       Sapindales         order  28643</span></a>
<a class="sourceLine" id="cb18-51" title="51"><span class="co">#&gt; 10     Sapindaceae        family  28657</span></a>
<a class="sourceLine" id="cb18-52" title="52"><span class="co">#&gt; 11            Acer         genus  28727</span></a>
<a class="sourceLine" id="cb18-53" title="53"><span class="co">#&gt; 12  Acer japonicum       species 837855</span></a>
<a class="sourceLine" id="cb18-54" title="54"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb18-55" title="55"><span class="co">#&gt; attr(,"class")</span></a>
<a class="sourceLine" id="cb18-56" title="56"><span class="co">#&gt; [1] "classification"</span></a>
<a class="sourceLine" id="cb18-57" title="57"><span class="co">#&gt; attr(,"db")</span></a>
<a class="sourceLine" id="cb18-58" title="58"><span class="co">#&gt; [1] "itis"</span></a></code></pre></div>
</div>
<div id="network-analysis-with-igraph" class="section level2">
<h2 class="hasAnchor">
<a href="#network-analysis-with-igraph" class="anchor"></a>Network analysis with <code>igraph</code>
</h2>
<p>Once the data are retrieved and a <code>mgNetwork</code> or a <code>mgNetworkCollection</code> objects obtained, it is straightforward to convert it as a <code>igraph</code> (see the <a href="https://igraph.org/r/">dedicated website</a>) object and then to carry out network analysis:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(igraph)</a>
<a class="sourceLine" id="cb19-2" title="2">mg_lagoons &lt;-<span class="st"> </span><span class="kw"><a href="../reference/search_datasets.html">search_datasets</a></span>(<span class="dt">query =</span> <span class="st">'lagoon'</span>) <span class="op">%&gt;%</span><span class="st"> </span>get_collection</a>
<a class="sourceLine" id="cb19-3" title="3"><span class="co"># NB the line below returns a list of igraph objects</span></a>
<a class="sourceLine" id="cb19-4" title="4">ig_lagoons &lt;-<span class="st"> </span><span class="kw"><a href="https://rdrr.io/pkg/igraph/man/as.igraph.html">as.igraph</a></span>(mg_lagoons)</a>
<a class="sourceLine" id="cb19-5" title="5"><span class="co">## Modularity analysis for the first network</span></a>
<a class="sourceLine" id="cb19-6" title="6"><span class="kw"><a href="https://rdrr.io/pkg/igraph/man/modularity.igraph.html">modularity</a></span>(ig_lagoons[[<span class="dv">1</span>]], <span class="kw"><a href="https://rdrr.io/pkg/igraph/man/communities.html">membership</a></span>(<span class="kw"><a href="https://rdrr.io/pkg/igraph/man/cluster_walktrap.html">cluster_walktrap</a></span>(ig_lagoons[[<span class="dv">1</span>]])))</a>
<a class="sourceLine" id="cb19-7" title="7"><span class="co">#&gt; [1] 0.04824893</span></a>
<a class="sourceLine" id="cb19-8" title="8"><span class="co">## Degree values for all networks</span></a>
<a class="sourceLine" id="cb19-9" title="9"><span class="kw"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span>(ig_lagoons, degree)</a>
<a class="sourceLine" id="cb19-10" title="10"><span class="co">#&gt; [[1]]</span></a>
<a class="sourceLine" id="cb19-11" title="11"><span class="co">#&gt; 4904 4905 4906 4907 4908 4909 4910 4911 4912 4913 4914 4915 4916 4917 4918 </span></a>
<a class="sourceLine" id="cb19-12" title="12"><span class="co">#&gt;   17   11   14   13   18   20   14   10   18   14   12   15    7   15   14 </span></a>
<a class="sourceLine" id="cb19-13" title="13"><span class="co">#&gt; 4919 4920 4921 4922 4924 4925 4926 4927 4923 4929 4928 </span></a>
<a class="sourceLine" id="cb19-14" title="14"><span class="co">#&gt;   12   14   11   26    7   22   15   21   16    5   17 </span></a>
<a class="sourceLine" id="cb19-15" title="15"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-16" title="16"><span class="co">#&gt; [[2]]</span></a>
<a class="sourceLine" id="cb19-17" title="17"><span class="co">#&gt; 6459 6460 6461 6463 6464 6465 6458 6462 6466 6456 6457 </span></a>
<a class="sourceLine" id="cb19-18" title="18"><span class="co">#&gt;    4    7    9    3    3    7    4    6    3    4    4 </span></a>
<a class="sourceLine" id="cb19-19" title="19"><span class="co">#&gt; </span></a>
<a class="sourceLine" id="cb19-20" title="20"><span class="co">#&gt; [[3]]</span></a>
<a class="sourceLine" id="cb19-21" title="21"><span class="co">#&gt; 6445 6447 6448 6449 6450 6452 6453 6454 6446 6451 6455 6443 6444 </span></a>
<a class="sourceLine" id="cb19-22" title="22"><span class="co">#&gt;    6    4    5    5   11    2    5    8    3    5    4    5    5</span></a></code></pre></div>
</div>
<div id="network-manipulation-and-visualization-with-tidygraph-and-ggraph" class="section level2">
<h2 class="hasAnchor">
<a href="#network-manipulation-and-visualization-with-tidygraph-and-ggraph" class="anchor"></a>Network manipulation and visualization with <code>tidygraph</code> and <code>ggraph</code>
</h2>
<p>The package <a href="https://github.com/thomasp85/tidygraph"><code>tidygraph</code></a> treats networks as two tidy tables (one for the edges and one for the nodes) that can be modified using the grammar of data manipulation developed in the <a href="https://www.tidyverse.org/">tidyverse</a>. Moreover, <code>tidygraph</code> wraps over most of the <code>igraph</code> functions so that the user can call a vast variety of algorithms to properly analysis networks. Fortunately, objects of class <code>mgNetwork</code> can readily be converted into <code>tbl_graph</code> objects which allows the user to benefit from all the tools included in <code>tidygraph</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(tidygraph)</a>
<a class="sourceLine" id="cb20-2" title="2"><span class="co"># NB the line below would not work with a mgNetworksCollection (use lapply)</span></a>
<a class="sourceLine" id="cb20-3" title="3">tg_lagoons &lt;-<span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/tbl_graph.html">as_tbl_graph</a></span>(mg_lagoons[[<span class="dv">1</span>]]) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-4" title="4"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/reexports.html">mutate</a></span>(<span class="dt">centrality_dg =</span> <span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/centrality.html">centrality_degree</a></span>(<span class="dt">mode =</span> <span class="st">'in'</span>))</a>
<a class="sourceLine" id="cb20-5" title="5">tg_lagoons <span class="op">%E&gt;%</span><span class="st"> </span>as_tibble</a>
<a class="sourceLine" id="cb20-6" title="6"><span class="co">#&gt; # A tibble: 189 x 19</span></a>
<a class="sourceLine" id="cb20-7" title="7"><span class="co">#&gt;     from    to interaction_id date  direction type  method attr_id value</span></a>
<a class="sourceLine" id="cb20-8" title="8"><span class="co">#&gt;    &lt;int&gt; &lt;int&gt;          &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt; &lt;lgl&gt;    &lt;int&gt; &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb20-9" title="9"><span class="co">#&gt;  1     9     9          48376 2003… directed  pred… NA          12 0.026</span></a>
<a class="sourceLine" id="cb20-10" title="10"><span class="co">#&gt;  2     9    11          48377 2003… directed  pred… NA          12 0.025</span></a>
<a class="sourceLine" id="cb20-11" title="11"><span class="co">#&gt;  3     9    12          48378 2003… directed  pred… NA          12 0.003</span></a>
<a class="sourceLine" id="cb20-12" title="12"><span class="co">#&gt;  4     9    15          48379 2003… directed  pred… NA          12 0.009</span></a>
<a class="sourceLine" id="cb20-13" title="13"><span class="co">#&gt;  5     9    16          48380 2003… directed  pred… NA          12 0.009</span></a>
<a class="sourceLine" id="cb20-14" title="14"><span class="co">#&gt;  6     9    17          48381 2003… directed  pred… NA          12 0.016</span></a>
<a class="sourceLine" id="cb20-15" title="15"><span class="co">#&gt;  7     9    18          48382 2003… directed  pred… NA          12 0.284</span></a>
<a class="sourceLine" id="cb20-16" title="16"><span class="co">#&gt;  8     9    19          48383 2003… directed  pred… NA          12 0.231</span></a>
<a class="sourceLine" id="cb20-17" title="17"><span class="co">#&gt;  9     9    21          48384 2003… directed  pred… NA          12 0.079</span></a>
<a class="sourceLine" id="cb20-18" title="18"><span class="co">#&gt; 10     9    22          48385 2003… directed  pred… NA          12 0.09 </span></a>
<a class="sourceLine" id="cb20-19" title="19"><span class="co">#&gt; # … with 179 more rows, and 10 more variables: public &lt;lgl&gt;,</span></a>
<a class="sourceLine" id="cb20-20" title="20"><span class="co">#&gt; #   network_id &lt;int&gt;, created_at &lt;chr&gt;, updated_at &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb20-21" title="21"><span class="co">#&gt; #   attribute.id &lt;int&gt;, attribute.name &lt;chr&gt;, attribute.description &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb20-22" title="22"><span class="co">#&gt; #   attribute.unit &lt;lgl&gt;, attribute.created_at &lt;chr&gt;,</span></a>
<a class="sourceLine" id="cb20-23" title="23"><span class="co">#&gt; #   attribute.updated_at &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb20-24" title="24">tg_lagoons <span class="op">%N&gt;%</span><span class="st"> </span>as_tibble <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-25" title="25"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/tidygraph/man/reexports.html">select</a></span>(original_name, taxonomy.tsn, centrality_dg)</a>
<a class="sourceLine" id="cb20-26" title="26"><span class="co">#&gt; # A tibble: 26 x 3</span></a>
<a class="sourceLine" id="cb20-27" title="27"><span class="co">#&gt;    original_name  taxonomy.tsn centrality_dg</span></a>
<a class="sourceLine" id="cb20-28" title="28"><span class="co">#&gt;    &lt;chr&gt;                 &lt;int&gt;         &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb20-29" title="29"><span class="co">#&gt;  1 Scianids             169237             1</span></a>
<a class="sourceLine" id="cb20-30" title="30"><span class="co">#&gt;  2 Elopids               28630             0</span></a>
<a class="sourceLine" id="cb20-31" title="31"><span class="co">#&gt;  3 Lutjanids            168845             1</span></a>
<a class="sourceLine" id="cb20-32" title="32"><span class="co">#&gt;  4 Carangids            168584             2</span></a>
<a class="sourceLine" id="cb20-33" title="33"><span class="co">#&gt;  5 Centropomids         167642             2</span></a>
<a class="sourceLine" id="cb20-34" title="34"><span class="co">#&gt;  6 Ariids                43998             1</span></a>
<a class="sourceLine" id="cb20-35" title="35"><span class="co">#&gt;  7 Haemulids            169055             4</span></a>
<a class="sourceLine" id="cb20-36" title="36"><span class="co">#&gt;  8 Pleuronectoids       172859             3</span></a>
<a class="sourceLine" id="cb20-37" title="37"><span class="co">#&gt;  9 Callinectes           13951             6</span></a>
<a class="sourceLine" id="cb20-38" title="38"><span class="co">#&gt; 10 Belonoids            165546             4</span></a>
<a class="sourceLine" id="cb20-39" title="39"><span class="co">#&gt; # … with 16 more rows</span></a></code></pre></div>
<p>Another strong advantage of <code>tbl_graph</code> objects is that there are the objects used by the package <a href="https://github.com/thomasp85/ggraph"><code>ggraph</code></a> that that offers various functions (theme, geoms, etc.) to efficiently visualize networks:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" title="1"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(ggraph)</a>
<a class="sourceLine" id="cb21-2" title="2"><span class="kw"><a href="https://rdrr.io/pkg/ggraph/man/ggraph.html">ggraph</a></span>(tg_lagoons, <span class="dt">layout =</span> <span class="st">"stress"</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb21-3" title="3"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/ggraph/man/geom_edge_parallel.html">geom_edge_parallel</a></span>(<span class="dt">end_cap =</span> <span class="kw"><a href="https://rdrr.io/pkg/ggraph/man/geometry.html">circle</a></span>(.<span class="dv">5</span>), <span class="dt">start_cap =</span> <span class="kw"><a href="https://rdrr.io/pkg/ggraph/man/geometry.html">circle</a></span>(.<span class="dv">5</span>),</a>
<a class="sourceLine" id="cb21-4" title="4">        <span class="dt">arrow =</span> <span class="kw">arrow</span>(<span class="dt">length =</span> <span class="kw">unit</span>(<span class="dv">1</span>, <span class="st">'mm'</span>), <span class="dt">type =</span> <span class="st">'closed'</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb21-5" title="5"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/ggraph/man/geom_node_point.html">geom_node_point</a></span>(<span class="kw">aes</span>(<span class="dt">colour =</span> taxonomy.rank), <span class="dt">size =</span> <span class="dv">8</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb21-6" title="6"><span class="st">  </span><span class="kw"><a href="https://rdrr.io/pkg/ggraph/man/theme_graph.html">theme_graph</a></span>(<span class="dt">background =</span> <span class="st">"grey40"</span>, <span class="dt">foreground =</span> <span class="ot">NA</span>, <span class="dt">text_colour =</span> <span class="st">'white'</span>)</a></code></pre></div>
<p><img src="rmangal_files/figure-html/ggraph-1.png" width="700"></p>
</div>
<div id="creating-a-list-references-for-a-set-of-networks" class="section level2">
<h2 class="hasAnchor">
<a href="#creating-a-list-references-for-a-set-of-networks" class="anchor"></a>Creating a list references for a set of networks</h2>
<p>We can easily print the BibTeX of all publications involved in the networks collection.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb22-1" title="1"><span class="co"># library(RefManageR)</span></a>
<a class="sourceLine" id="cb22-2" title="2"><span class="co"># tmpf &lt;- tempfile(, fileext = ".bib")</span></a>
<a class="sourceLine" id="cb22-3" title="3"><span class="kw"><a href="../reference/search_datasets.html">search_datasets</a></span>(<span class="dt">query =</span> <span class="st">'lagoon'</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb22-4" title="4"><span class="st">  </span>get_collection <span class="op">%&gt;%</span><span class="st"> </span>get_citation <span class="op">%&gt;%</span><span class="st"> </span><span class="kw"><a href="https://rdrr.io/r/base/cat.html">cat</a></span>(<span class="dt">sep =</span> <span class="st">"</span><span class="ch">\n</span><span class="st">"</span>)</a>
<a class="sourceLine" id="cb22-5" title="5"><span class="co">#&gt; @article{Zetina_Rej_n_2003, doi = {10.1016/s0272-7714(02)00410-9}, url = {https://doi.org/10.1016%2Fs0272-7714%2802%2900410-9}, year = 2003, month = {aug}, publisher = {Elsevier {BV}}, volume = {57}, number = {5-6}, pages = {803--815}, author = {Manuel J. Zetina-Rejón and Francisco Arreguí-Sánchez and Ernesto A. Chávez}, title = {Trophic structure and flows of energy in the Huizache{   extendash}Caimanero lagoon complex on the Pacific coast of Mexico},journal = {Estuarine, Coastal and Shelf Science}}</span></a>
<a class="sourceLine" id="cb22-6" title="6"><span class="co">#&gt; @book{yanez_1978, Author = {Yáñez-Arancibia, Alejandro}, Editor = {Universidad Nacional Autónoma de México, Centro de Ciencias del Mar y Limnología. Ciudad Universitaria, México, D.F. -- 1a ed.},Title = {Taxonomía, ecología y estructura de las comunidades de peces en lagunas costeras con bocas efímeras del Pacífico de México}, Year = {1978}}</span></a>
<a class="sourceLine" id="cb22-7" title="7"><span class="co"># file = tmpf)</span></a>
<a class="sourceLine" id="cb22-8" title="8"><span class="co"># ReadBib(tmpf)</span></a></code></pre></div>
</div>
<div id="references" class="section level2 unnumbered">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<div id="refs" class="references">
<div id="ref-chamberlain_2019">
<p>Chamberlain, Scott, Eduard Szoecs, Zachary Foster, Zebulun Arendsee, Carl Boettiger, Karthik Ram, Ignasi Bartomeus, et al. 2019. <em>Taxize: Taxonomic Information from Around the Web</em>. <a href="https://github.com/ropensci/taxize" class="uri">https://github.com/ropensci/taxize</a>.</p>
</div>
<div id="ref-poisot_mangal_2016">
<p>Poisot, Timothée, Benjamin Baiser, Jennifer A. Dunne, Sonia Kéfi, François Massol, Nicolas Mouquet, Tamara N. Romanuk, Daniel B. Stouffer, Spencer A. Wood, and Dominique Gravel. 2016. “Mangal - Making Ecological Network Analysis Simple.” <em>Ecography</em> 39 (4): 384–90. <a href="https://doi.org/10.1111/ecog.00976" class="uri">https://doi.org/10.1111/ecog.00976</a>.</p>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">

        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#context">Context</a><ul class="nav nav-pills nav-stacked">
<li><a href="#the-mangal-project">The Mangal project</a></li>
      <li><a href="#data-structure">Data structure</a></li>
      <li><a href="#authentication">Authentication</a></li>
      </ul>
</li>
      <li>
<a href="#how-to-use-rmangal">How to use <strong>rmangal</strong></a><ul class="nav nav-pills nav-stacked">
<li><a href="#overall-approach">Overall approach</a></li>
      <li><a href="#search-functions">Search functions</a></li>
      <li><a href="#get-networks-associated-with-a-search_-object">Get networks associated with a <code>search_*</code> object</a></li>
      </ul>
</li>
      <li>
<a href="#integrated-workflow-with-rmangal">Integrated workflow with <strong>rmangal</strong></a><ul class="nav nav-pills nav-stacked">
<li><a href="#batch-analysis">Batch analysis</a></li>
      <li><a href="#geolocalize-mangal-networks-with-sf">Geolocalize Mangal networks with <code>sf</code></a></li>
      <li><a href="#taxonomic-analysis-with-taxize">Taxonomic analysis with <code>taxize</code></a></li>
      <li><a href="#network-analysis-with-igraph">Network analysis with <code>igraph</code></a></li>
      <li><a href="#network-manipulation-and-visualization-with-tidygraph-and-ggraph">Network manipulation and visualization with <code>tidygraph</code> and <code>ggraph</code></a></li>
      <li><a href="#creating-a-list-references-for-a-set-of-networks">Creating a list references for a set of networks</a></li>
      <li><a href="#references">References</a></li>
      </ul>
</li>
      </ul>
</div>
      </div>

</div>



      <footer><div style="margin-top:-9px">
  <p>rmangal is a part of <img src="https://github.com/ropensci/logos/raw/master/icon_lettering_color.png" height="40" alt="rOpenSci">. Learn more at <a href="https://ropensci.org">ropensci.org</a>.</p>
</div>

<div class="author">
  <p>
    Developed by <a href="https://steveviss.github.io/">Steve Vissault</a>, <a href="https://kevcaz.github.io/">Kevin Cazelles</a>, <a href="https://github.com/gabrielbouleau">Gabriel Bergeron</a>, <a href="https://github.com/BenMerSci">Benjamin Mercier</a>, <a href="https://github.com/clementviolet">Clément Violet</a>, Dominique Gravel, <a href="https://github.com/tpoisot">Timothée Poisot</a>.
    Site built by <a href="https://pkgdown.r-lib.org">pkgdown</a> &amp; <a href="https://docs.ropensci.org/rotemplate/">rotemplate</a>.
  </p>
</div>

      </footer>
</div>

  


  </body>
</html>
